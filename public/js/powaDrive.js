!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=145)}([function(t,e,n){"use strict";n.r(e),n.d(e,"onReady",function(){return l}),n.d(e,"bindAll",function(){return h}),n.d(e,"clone",function(){return f}),n.d(e,"noop",function(){return p}),n.d(e,"nextTick",function(){return g}),n.d(e,"isURL",function(){return m}),n.d(e,"getQueryStringParameters",function(){return y}),n.d(e,"getQueryStringObj",function(){return b}),n.d(e,"querystringify",function(){return w}),n.d(e,"upgradeQueryString",function(){return k}),n.d(e,"protocolAgnosticURL",function(){return S}),n.d(e,"canAutoplay",function(){return E}),n.d(e,"getTextTracks",function(){return A}),n.d(e,"getVideoSupport",function(){return j}),n.d(e,"ensureDataset",function(){return _}),n.d(e,"freeze",function(){return T}),n.d(e,"globalEvent",function(){return P}),n.d(e,"globalError",function(){return D}),n.d(e,"isObject",function(){return C}),n.d(e,"isEmpty",function(){return x}),n.d(e,"notEmpty",function(){return R}),n.d(e,"has",function(){return L}),n.d(e,"hasExtension",function(){return I}),n.d(e,"hash",function(){return M}),n.d(e,"isVisible",function(){return W}),n.d(e,"getViewableFraction",function(){return N}),n.d(e,"isElementInViewport",function(){return $}),n.d(e,"isFullscreen",function(){return U}),n.d(e,"exitFullscreen",function(){return B}),n.d(e,"requestFullscreen",function(){return H}),n.d(e,"parseString",function(){return z}),n.d(e,"camelCase",function(){return Y}),n.d(e,"kabobCase",function(){return Q}),n.d(e,"snakeCase",function(){return J}),n.d(e,"get",function(){return Z}),n.d(e,"selectStreams",function(){return tt}),n.d(e,"set",function(){return et}),n.d(e,"setAttribute",function(){return nt}),n.d(e,"trimTrailing",function(){return ot}),n.d(e,"onceVisible",function(){return rt}),n.d(e,"openInNewTab",function(){return at}),n.d(e,"openInPopup",function(){return st}),n.d(e,"promiseText",function(){return ct}),n.d(e,"getImage",function(){return ut}),n.d(e,"promiseImage",function(){return lt}),n.d(e,"promiseHTML",function(){return ft}),n.d(e,"loadScript",function(){return pt}),n.d(e,"promiseScript",function(){return gt}),n.d(e,"scriptURL",function(){return vt}),n.d(e,"hasFontAwesome",function(){return mt}),n.d(e,"ensureFontAwesome",function(){return bt}),n.d(e,"fontAwesomeIcon",function(){return wt}),n.d(e,"getColor",function(){return kt}),n.d(e,"addCSS",function(){return Ot}),n.d(e,"loadCSS",function(){return St}),n.d(e,"promiseCSS",function(){return Et}),n.d(e,"getJSONP",function(){return jt}),n.d(e,"ajaxGET",function(){return Tt}),n.d(e,"ajaxPOST",function(){return Pt}),n.d(e,"stashLocal",function(){return Dt}),n.d(e,"fetchLocal",function(){return Ct}),n.d(e,"getCapturingGroup",function(){return xt}),n.d(e,"sniffClient",function(){return Lt}),n.d(e,"formatTime",function(){return It}),n.d(e,"toFixed",function(){return Mt}),n.d(e,"getCookie",function(){return Wt}),n.d(e,"setCookie",function(){return Nt}),n.d(e,"deleteCookie",function(){return $t}),n.d(e,"isLocalStorageSupported",function(){return Ut}),n.d(e,"getRandomNumber",function(){return Bt}),n.d(e,"isNumWithin",function(){return Ht}),n.d(e,"isInteger",function(){return Ft}),n.d(e,"isIframe",function(){return Vt}),n.d(e,"throttle",function(){return zt}),n.d(e,"playButtonSVG",function(){return Gt});var i=n(1),o=n(3),r=n(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u="PoWaTools";function l(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}var d=["constructor","__proto__"];function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t){e=d.concat(e);for(var n=Object.getPrototypeOf(t);n!==Object.prototype;n=Object.getPrototypeOf(n))Object.getOwnPropertyNames(n).filter(function(t){return!e.includes(t)}).forEach(function(e){return t[e]=t[e].bind(t)})}else console.error("[PoWaTools][bindAll] Missing parameter")}function f(t){return JSON.parse(JSON.stringify(t))}function p(){}function g(t){return setTimeout(t,0)}var v=/^(http:|https:)?\/\//i;function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof t&&v.test(t)}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",i={};return t.replace(/(^\?)/,"").split(e).forEach(function(t){(t=t.split(n))[0]&&(i[t[0]]=t[1])}),i}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=";return Object(r.mapObj)(y(t,e,n),z)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=";return Object(r.reduce)(t,function(t,i,o){return i=C(i)?JSON.stringify(i):i,"".concat(t).concat(t?e:"").concat(o).concat(n).concat(encodeURIComponent(i))},"")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(t.split("?"),2),i=n[0],o=n[1];return o=y(o||""),o=w(o=Object(r.extend)(o,e)),"".concat(i,"?").concat(o)}var O=/^http:/;function S(t){return t.replace(O,"")}function E(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(e,n){var i=function(){document.body.removeChild(r),r.src="",r.load()},r=document.createElement("video");t&&(r.muted="muted"),r.src=Object(o.h)("tiny.mp4"),r.setAttribute("playsinline",""),document.body.appendChild(r);var a=r.play();a?a.then(function(){i(),e()}).catch(function(){i(),n()}):(i(),e())})}function A(t){return(t.textTracks?s(t.textTracks):[]).filter(function(t){return t.label&&t.language})}function j(){et(window,"PoWaSettings.client",Lt,!1);var t,e,n,i,o=document.createElement("video");return!!!!o.canPlayType&&{ogg:o.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),h264:o.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),webm:o.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),vp9:o.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),hls:o.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&!window.PoWaSettings.client.isAndroid,hlsJS:(t=window.MediaSource||window.WebKitMediaSource,e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,n&&i)}}function _(t){if(t instanceof HTMLElement)return t.dataset?t:(t.dataset=(e=t.attributes,n={},Object(r.forEach)(e,function(t,e){e.startsWith("data-")&&(e=e.substr(5),n[Y(e)]=t)}),n),t);var e,n}function T(t){return t&&"object"===a(t)&&(Object(r.forEach)(t,T),Object.freeze(t)),t}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaUnspecified",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"powaUnspecified"===t&&console.error("[".concat(u,"][globalEvent] - unspecified type")),e.type=e.type||t,window.dispatchEvent(new CustomEvent(t,{detail:e}))}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaError";console.error(t),P(e,t)}function C(t){return!(!t||"object"!==a(t)||Array.isArray(t))}function x(t){return!t||0===Object.keys(t).length}function R(t){return C(t)&&Object.keys(t).length}function L(t,e){return t&&e in t}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&e&&"string"==typeof t&&"string"==typeof e?(e=e.toLowerCase(),(t=t.toLowerCase().split("?")[0]).endsWith(e)):null}function M(t){return(t="string"==typeof t?t:JSON.stringify(t)).split("").reduce(function(t,e){return(t=31*t+e.charCodeAt(0))&t},0)}function W(t){return t instanceof HTMLElement?t.offsetWidth||t.offsetHeight||t.getClientRects().length:null}function N(t){if(t instanceof HTMLElement){var e=t.offsetHeight,n=window.innerHeight||document.documentElement.clientHeight,i=t.getBoundingClientRect();return i.top+e>=0&&i.bottom-e<=n?i.top>=0&&i.bottom<=n?1:i.top<0&&i.bottom>n?(e+i.top-(i.bottom-n))/e:i.top<0?(e+i.top)/e:(e-(i.bottom-n))/e:0}return null}function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t instanceof HTMLElement){var i=t.getBoundingClientRect();return i.top+t.offsetHeight*e>=0&&i.bottom-t.offsetHeight*e<=(window.innerHeight||document.documentElement.clientHeight)&&(!n||i.left>=0)&&(!n||i.right<=(window.innerWidth||document.documentElement.clientWidth))}return null}function U(t){return!!(Z(t,"webkitDisplayingFullscreen")||document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreen||document.msFullscreenElement)}function B(t){Z(t,"webkitExitFullscreen")?t.webkitExitFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}function H(t){t instanceof HTMLElement&&(t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())}var F=/^{.*}$/,V=/^\[.*\]$/;function z(t){return"string"!=typeof t?t:""===t?"":"true"===t.toLowerCase()||"false"!==t.toLowerCase()&&("null"===t.toLowerCase()?null:"undefined"===t.toLowerCase()?void 0:isNaN(Number(t))?F.test(t)||V.test(t)?JSON.parse(decodeURIComponent(t)):t:Number(t))}var G=/^[A-Z]/,K=/(\S+?)([A-Z]+)/g,q=/-([a-z]?)/g;function Y(t){return t.replace(G,function(t){return t.toLowerCase()}).replace(q,function(t,e){return e.toUpperCase()})}function Q(t){return t.replace(G,function(t){return t.toLowerCase()}).replace(K,function(t,e,n){return"".concat(e,"-").concat(n.toLowerCase())})}function J(t){var e=Y(t);return e[0].toUpperCase()+e.slice(1)}var X=/[[\]]/g;function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if((e="string"==typeof e?e.replace(X,".").split(".").filter(function(t){return!!t}):e).length){var i=e.shift();return"object"===a(t)&&null!==t&&i in t&&void 0!==t[i]?Z(t[i],e,n):n}return void 0!==t?t:n}function tt(t){var e=t.streams,n=t.live,i=t.maxBitrate,o=t.streamPreference;e=Array.isArray(e)?e:[];var a=Object(r.groupBy)(e,function(t){return o.find(function(e){return I(t.url,e)})});return n?e.map(function(t){return t.url}):Object(r.chain)(o).map(function(t){return(e=a[t])?Object(r.chain)(e).reject(function(t){return t.bitrate>i}).map(function(t){return Object(r.extend)(t,{bitrate:isNaN(t.bitrate)?0:t.bitrate,height:isNaN(t.height)?0:t.height,width:isNaN(t.width)?0:t.width})}).max(function(t){return t.bitrate||t.height+t.width}).value():{};var e}).compact().map(function(t){return R(t)?t.url:null}).compact().value()}function et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=(e="string"==typeof e?e.replace(X,".").split(".").filter(function(t){return!!t}):e).shift();return e.length?(t[o]=t[o]?t[o]:isNaN(e[0])?{}:[],et(t[o],e,n,i)):(t[o]=i||void 0===t[o]?"function"==typeof n?n():n:t[o],t[o])}function nt(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t instanceof HTMLElement&&(!i&&t.hasAttribute(e)||t.setAttribute(e,n))}function it(t,e){return t.slice(0,-e.length)}function ot(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.endsWith(e)?n?ot(it(t,e),e,n):it(t,e):t}function rt(t){if("hidden"===document.visibilityState){document.addEventListener("visibilitychange",function e(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",e),t())})}else t()}function at(t){window.open(t,"_blank").focus()}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"width=550, height=450, top=".concat(screen.height/2-225,", left=").concat(screen.width/2-275);try{window.open(t,"_blank",e)}catch(t){console.error(t)}}function ct(t){return new Promise(function(e,n){fetch(t).then(function(t){return t.text()}).then(e).catch(n)})}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,i=new Image;i.onload=e,i.onerror=n,i.src=t}function lt(t){return new Promise(function(e,n){return ut(t,e,n)})}var dt=/<body .*?>(.*)<\/body>/,ht=/<script>.*<\/script>/g;function ft(t){return new Promise(function(e,n){ct(t).then(function(t){return e(xt(t,dt).replace(ht,""))}).catch(n)})}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,i=document.querySelector('script[src="'.concat(t,'"]'));if(i&&i.hasAttribute("data-powa-script"))i.hasAttribute("data-load")?e():i.hasAttribute("data-error")?n():(i.addEventListener("load",e),i.addEventListener("error",n));else{i=document.createElement("script");var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o),i.addEventListener("error",function(){i.setAttribute("data-error",!0),n()}),i.addEventListener("load",function(){i.setAttribute("data-load",!0),e()}),i.setAttribute("data-powa-script",!0),i.type="text/javascript",i.async=!0,i.src=t}}function gt(t){return new Promise(function(e,n){return pt(t,e,n)})}function vt(t){var e=document.querySelectorAll('script[src*="'.concat(t,'"]'));return e.length&&e[0].src?e[0].src:null}function mt(){var t=document.createElement("span");t.className="fa",t.style.display="none",document.body.insertBefore(t,document.body.firstChild);var e="FontAwesome"===getComputedStyle(t).fontFamily;return document.body.removeChild(t),e}var yt,bt=(yt=!1,function(){yt||!1===Z(window,"PoWaSettings.fontAwesome")||mt()||(yt=!0,St("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"))});function wt(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.join(" ");return'<i class="'.concat(n?"".concat(n," "):"","fa fa-").concat(e,'" aria-hidden="true"></i>')}function kt(t,e){var n=t.red,i=t.green,o=t.blue;return null!=e?"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(e,")"):"rgb(".concat(n,", ").concat(i,", ").concat(o,")")}function Ot(t,e){var n=document.createElement("style");if(n.type="text/css",e){var i=document.querySelector("style#".concat(e));i&&i.parentNode.removeChild(i),n.id=e}t&&(n.appendChild(document.createTextNode(t)),document.head.appendChild(n))}function St(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,i=document.createElement("link");document.getElementsByTagName("head")[0].appendChild(i),i.onerror=n,i.onload=e,i.type="text/css",i.rel="stylesheet",i.href=t}function Et(t){return new Promise(function(e,n){return St(t,e,n)})}var At=0;function jt(t){var e,n,i,o=t.id||++At,a=t.callbackParam||"cb",s="powaResolvees".concat(o),c="powaCallback".concat(o),u="powaScript".concat(o);if(window[s]=window[s]||[],"function"==typeof t.resolve&&window[s].push(t.resolve),!window[c]){window[c]=function(t){delete window[c];var e=document.getElementById(u);e.parentNode.removeChild(e),window[s].forEach(function(e){return e(t)}),delete window[s]};var l=w(Object(r.extend)((i=c,(n=a)in(e={})?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e),t.data)),d=document.createElement("script");d.onerror=t.reject,d.id=u,d.src="".concat(t.url).concat(t.url.includes("?")?"&":"?").concat(l),document.body.appendChild(d)}}var _t=/^2\d\d$/;function Tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.a,r=new XMLHttpRequest;return r.onreadystatechange=function(){r.readyState>3&&(_t.test(r.status)?e(r.responseText):n(r))},r.onerror=function(){return n(r)},r.open("GET",t),r.timeout=o,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),r}function Pt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.a,a=new XMLHttpRequest;return a.onreadystatechange=function(){a.readyState>3&&(_t.test(a.status)?n(a.responseText):o(a))},a.onerror=function(){return o(a)},a.open("POST",t),a.timeout=r,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(e)),a}function Dt(t,e){if(!t)return null;if("object"===a(t))Object(r.forEach)(t,function(t,e){return Dt(e,t)});else try{return localStorage.setItem(t,e),!0}catch(t){return!1}}function Ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;try{var i=localStorage.getItem(t);if(null!==i)return n?i:z(i);throw i}catch(t){return e}}function xt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.match(e);return i&&i.length>n?i[n]:""}var Rt={};function Lt(t){if(!t&&R(Rt))return Rt;if(t=t||(window.navigator&&navigator.userAgent?navigator.userAgent:"")){var e=/ipod|iphone|ipad/i.test(t),n=/android/i.test(t),i=/silk/i.test(t),o=/CrOS/i.test(t),r=/windows phone/i.test(t),a=!r&&/windows/i.test(t),s=!e&&!i&&/macintosh/i.test(t),c=!n&&/linux/i.test(t),u=xt(t,/edge\/(\d+(\.\d+)?)/i),l=xt(t,/version\/(\d+(\.\d+)?)/i),d=/tablet|ipad/i.test(t),h=!d&&/[^-]mobi/i.test(t),f=!(h||d),p=document.documentElement.ontouchstart;Rt={version:l,isAndroid:n,isIOS:e,isKindle:!1,isLinux:c,isMac:s,isChromeOs:o,isWindows:a,isWindowsPhone:r,isAndroidBrowser:!1,isChrome:!1,isFirefox:!1,isIE:!1,isSafari:!1,isSamsungBrowser:!1,isSilk:i,isDesktop:f,isMobile:h,isTablet:d,isTouch:p,isWebView:!1,clientType:h?"mobile":d?"tablet":"desktop"},r?Object.assign(Rt,{browserName:"explorer",version:u||xt(t,/iemobile\/(\d+(\.\d+)?)/i),isIE:!0}):/msie|trident/i.test(t)?Object.assign(Rt,{browserName:"explorer",version:xt(t,/(?:msie |rv:)(\d+(\.\d+)?)/i),isIE:!0}):/chrome.+? edge/i.test(t)?Object.assign(Rt,{browserName:"edge",version:u,isIE:!0}):/firefox/i.test(t)?Object.assign(Rt,{browserName:"firefox",version:xt(t,/firefox[ /](\d+(\.\d+)?)/i),isFirefox:!0}):i?Object.assign(Rt,{browserName:"silk",version:xt(t,/silk\/(\d+(\.\d+)?)/i),isKindle:!0}):/samsungbrowser/i.test(t)?Object.assign(Rt,{browserName:"samsung",version:xt(t,/samsungbrowser\/(\d+(\.\d+)?)/i),isSamsungBrowser:!0,isWebView:/\swv\)/i.test(t)}):/chrome/i.test(t)?Object.assign(Rt,{browserName:"chrome",version:xt(t,/chrome\/(\d+(\.\d+)?)/i),isChrome:!0,isWebView:/\swv\)/i.test(t)}):n?Object.assign(Rt,{browserName:"android",version:l,isAndroidBrowser:!0}):/CriOS/i.test(t)?Object.assign(Rt,{browserName:"chrome-ios",version:l||xt(t,/ OS (\d+)/i),isChrome:!0,isWebView:!l}):/safari|applewebkit/i.test(t)?Object.assign(Rt,{browserName:"safari",version:l||xt(t,/ OS (\d+)/i),isSafari:!0,isWebView:!l}):e&&Object.assign(Rt,{browserName:"safari",version:l||xt(t,/ OS (\d+)/i),isSafari:!0,isWebView:!l}),Rt.version=Number(Rt.version)}return Rt}function It(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60),o=e?"".concat(e,":"):"",r=e&&n<10?"0".concat(n,":"):"".concat(n,":"),a=i<10?"0".concat(i):i;return"".concat(o).concat(r).concat(a)}function Mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;return"number"!=typeof t||isNaN(t)?n:Number(t.toFixed(e))}function Wt(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}function Nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,i=new Date;i.setTime(i.getTime()+864e5*n),document.cookie="".concat(t,"=").concat(e,";path=/;expires=").concat(i.toGMTString())}function $t(t){Nt(t,"",-1)}function Ut(){var t="powatest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function Bt(t,e){return null==e&&(e=t,t=0),Math.floor(Math.random()*(e-t+1))+t}function Ht(t,e,n){return t>=e&&t<=n}function Ft(t){return"function"==typeof Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Vt(){try{return window.self!==window.top}catch(t){return!0}}function zt(t){var e,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,s=0;function c(){s=!1===r.leading?0:Date.now(),a=null,i=t.apply(e,n),a||(e=n=null)}return function(){var u=Date.now();s||!1!==r.leading||(s=u);var l=o-(u-s);return e=this,n=arguments,l<=0||l>o?(a&&(clearTimeout(a),a=null),s=u,i=t.apply(e,n),a||(e=n=null)):a||!1===r.trailing||(a=setTimeout(c,l)),i}}function Gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.9";return'\n\t\t<svg version="1.1" baseProvile="full" width="100%" height="100%" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<defs>\n\t\t\t\t<filter id="drop-shadow">\n\t\t\t\t\t<feDropShadow stdDEviation="1.00, 1.00" dx="0.00" dy="0.00" flood-opacity="0.50">\n\t\t\t\t</filter>\n\t\t\t</defs>\n\t\t\t<polyline\n\t\t\t\tfilter="url(#drop-shadow)"\n\t\t\t\tpoints="30 30 30 70 70 50 30 30"\n\t\t\t\topacity="'.concat(e,'"\n\t\t\t\tfill="').concat(t,'"\n\t\t\t\tstroke="').concat(t,'"\n\t\t\t\tstroke-width="5"\n\t\t\t\tstroke-linecap="round"\n\t\t\t\tstroke-linejoin="round"\n\t\t\t/>\n\t\t</svg>').trim()}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"o",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"f",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"p",function(){return v}),n.d(e,"m",function(){return m}),n.d(e,"h",function(){return y}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return w}),n.d(e,"k",function(){return k}),n.d(e,"l",function(){return O}),n.d(e,"e",function(){return S}),n.d(e,"n",function(){return E});var i=n(0),o=n(2),r=1e3,a=Object.freeze({red:153,green:50,blue:204}),s=Object.freeze({red:0,green:0,blue:0}),c=Object.freeze({red:240,green:248,blue:255});function u(){return Object.freeze({accent:Object(i.get)(window,"PoWaSettings.colors.accent",a),background:Object(i.get)(window,"PoWaSettings.colors.background",s),primary:Object(i.get)(window,"PoWaSettings.colors.primary",c)})}var l={POWA_BAR_SHOW:"powaBarShow",POWA_BAR_HIDE:"powaBarHide"},d={POWA_CLICK:"powaClick",POWA_CUSTOM:"powaCustom",POWA_HOVER:"powaHover",POWA_TOUCH:"powaTouch"},h={powaClick:"powa-click",powaHover:"powa-hover",powaTouch:"powa-touch"},f={ADDED_TO_DOM:"addedToDOM",RESIZE:"resize",VIEWABLE:"viewable",NOT_VIEWABLE:"notViewable"},p={BROKEN_PROMISE:"powaBrokenPromise",COMPLETE:"powaComplete",END:"powaEnd",ERROR:"powaError",FIRST_FRAME:"powaFirstFrame",LOADED:"powaLoaded",LOOP:"powaLoop",MEDIA_CLICK:"powaMediaClick",MEDIA_HOVER:"powaMediaHover",MEDIA_RIGHT_CLICK:"powaMediaRightClick",MEDIA_START:"powaMediaStart",META:"powaMeta",MUTED:"powaMuted",PAUSE:"powaPause",PLAY:"powaPlay",PROGRESS:"powaProgress",READY:"powaReady",SEEK:"powaSeek",SEEKED:"powaSeeked",SKIP:"powaSkip",START:"powaStart",TIME:"powaTime",UNLOADED:"powaUnloaded",VOLUME:"powaVolume"},g=/^powa/;function v(t){var e=t.replace(g,"");return e=e[0].toLowerCase()+e.slice(1)}var m=Object(o.mapObj)(p,v),y={AD_BAR_DISABLE_SKIP:"adBarDisableSkip",AD_BAR_ENABLE_SKIP:"adBarEnableSkip",AD_BAR_HIDE:"adBarHide",AD_BAR_MUTE:"adBarMute",AD_BAR_PAUSE:"adBarPause",AD_BAR_PLAY:"adBarPlay",AD_BAR_SHOW:"adBarShow",AD_BAR_SHOW_SKIP:"adBarShowSkip",AD_BAR_SKIP:"adBarSkip"},b=Object.assign({AD_CLICK:"adClick",AD_COMPANIONS:"adCompanions",AD_COMPLETE:"adComplete",AD_CONTENT_PAUSE_REQUESTED:"adContentPauseRequested",AD_CONTENT_RESUME_REQUESTED:"adContentResumeRequested",AD_DESTROYED:"adDestroyed",AD_DURATION_CHANGE:"adDurationChange",AD_END:"adEnd",AD_ERROR:"adError",AD_FIRST_FRAME:"adFirstFrame",AD_IMPRESSION:"adImpression",AD_LOADED:"adLoaded",AD_MUTE:"adMute",AD_NULL:"adNull",AD_PAUSE:"adPause",AD_PLAY:"adPlay",AD_READY:"adReady",AD_REQUEST:"adRequest",AD_REWIND:"adRewind",AD_SETUP_ERROR:"adSetupError",AD_SKIP:"adSkip",AD_START:"adStart",AD_START_REQUEST:"adStartRequest",AD_START_TIMEOUT:"adStartTimeout",AD_START_UNREPORTED:"adStartUnreported",AD_TIME:"adTime",AD_WAITING:"adWaiting"},y),w={POWA_RENDER:"powaRender",PROMO_CLICK:"promoClick",PROMO_HIDE:"promoHide",PROMO_HOVER:"promoHover",PROMO_PLAY:"promoPlay",PROMO_SHOW:"promoShow",PROMO_TOUCH:"promoTouch"},k={SUBS_AVAILABLE:"subsAvailable",SUBS_UNAVAILABLE:"subsUnavailable",SUBS_ENABLED:"subsEnabled",SUBS_DISABLED:"subsDisabled"},O={PLAYBACK_0:"playback0",PLAYBACK_25:"playback25",PLAYBACK_50:"playback50",PLAYBACK_75:"playback75",PLAYBACK_100:"playback100"},S={PLAYLIST:"playlist",PLAYLIST_LOADED:"playlistLoaded",PLAYLIST_COMPLETE:"playlistComplete"},E=Object.assign({ALL:"*",AUTOPLAY:"autoplay",DESTROYED:"destroyed",FULLSCREEN:"fullscreen",HOVER:"hover",MOUSE:"mouse",TAP:"tap",HLS_TAGS:"hlsTags",HLS_INITIAL_LEVEL:"hlsInitialLevel",HLS_LEVEL_SWITCH:"hlsLevelSwitch",POWA_ERROR:"powaError",POWA_READY:"powaReady",POWA_RENDER:"powaRender"},m,l,f,S,b,w,k,O)},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return t&&e in t}function a(t){return!(!t||"object"!==o(t)||Array.isArray(t))}function s(t){var e={log:function(){return console.debug(t),e},value:function(){return t}};return g(D,function(n,i){e[i]=function(){return t=n.apply(void 0,[t].concat(Array.prototype.slice.call(arguments))),e}}),e}function c(t){return d(t,function(t){return!!t})}function u(t,e){if(Array.isArray(t)){for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return!0}else if(a(t))for(var o in t)if(t[o]===e)return!0;return!1}function l(t){return d(t,function(t){return void 0!==t})}function d(t,e){var n={};return Array.isArray(t)?t.filter(e):(g(t,function(t,i){e(t,i)&&(n[i]=t)}),n)}function h(t){for(var e=Object.assign({},t),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach(function(t){g(t,function(n,i){r(t,i)&&(a(n)&&a(e[i])?e[i]=h(e[i],n):e[i]=n)})}),e}function f(t,e){if(Array.isArray(t))return t.find(e);if(a(t))for(var n in t)if(e(t[n],n,t))return t[n]}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return 0===e?t:Array.isArray(t)?t.reduce(function(t,n){return Array.isArray(n)&&e>1?t.concat.apply(t,i(p(n,e-1))):t.concat(n)},[]):j(t,function(t,n,i){return a(n)?h(t,p(n,e-1)):h(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},i,n))},{})}function g(t,e){if(Array.isArray(t))t.forEach(e);else if(a(t))for(var n in t)e(t[n],n,t);return t}function v(t,e){var n={};return g(t,function(t){var i="string"==typeof e?t[e]:e(t);n[i]=n[i]||[],n[i].push(t)}),n}function m(t){return t}function y(t,e){var n=[];return Array.isArray(t)?t.map(e):(g(t,function(i,o){n.push(e(i,o,t))}),n)}function b(t,e){var n={};return Array.isArray(t)?g(t,function(i,o){var s=e(i,o,t);a(s)&&r(s,"key")&&r(s,"value")?n[s.key]=s.value:n[o]=s}):g(t,function(i,o){var s=e(i,o,t);a(s)&&r(s,"key")&&r(s,"value")?n[s.key]=s.value:n[o]=s}),n}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=-1/0;if(e){var i=-1/0;g(t,function(t,o,r){var a=e(t,o,r);(a>i||a===-1/0&&n===-1/0)&&(n=t,i=a)})}else g(t,function(t){return n=t>n?t:n});return n}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=1/0;if(e){var i=1/0;g(t,function(t,o,r){var a=e(t,o,r);(a<i||a===1/0&&n===1/0)&&(n=t,i=a)})}else g(t,function(t){return n=t<n?t:n});return n}function O(t,e){e=Array.isArray(e)?e:[e];var n={};return g(t,function(t,i){u(e,i)||(n[i]=t)}),n}function S(t,e){e=Array.isArray(e)?e:[e];var n={};return e.forEach(function(e){r(t,e)&&(n[e]=t[e])}),n}function E(t,e){return(e=Array.isArray(e)?e:[e]).map(function(e){return t[e]})}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return Array.from(Array(t),function(t,n){return e(n)})}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!=t[0]?t[0]:0;return Array.isArray(t)?t.reduce(e,n):(g(t,function(t,i,o){n=e(n,t,i,o)}),n)}function _(t,e){return d(t,function(t,n,i){return!e(t,n,i)})}function T(t,e){var n=h(t);return g(e,function(t,e){e in n&&(n[t]=n[e],delete n[e])}),n}function P(t){return!!f(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:m)}n.r(e),n.d(e,"chain",function(){return s}),n.d(e,"compact",function(){return c}),n.d(e,"contains",function(){return u}),n.d(e,"defined",function(){return l}),n.d(e,"filter",function(){return d}),n.d(e,"extend",function(){return h}),n.d(e,"find",function(){return f}),n.d(e,"flatten",function(){return p}),n.d(e,"forEach",function(){return g}),n.d(e,"groupBy",function(){return v}),n.d(e,"identity",function(){return m}),n.d(e,"map",function(){return y}),n.d(e,"mapObj",function(){return b}),n.d(e,"max",function(){return w}),n.d(e,"min",function(){return k}),n.d(e,"omit",function(){return O}),n.d(e,"pick",function(){return S}),n.d(e,"pluck",function(){return E}),n.d(e,"range",function(){return A}),n.d(e,"reduce",function(){return j}),n.d(e,"reject",function(){return _}),n.d(e,"rename",function(){return T}),n.d(e,"some",function(){return P}),n.d(e,"_",function(){return D});var D={compact:c,contains:u,defined:l,extend:h,filter:d,find:f,flatten:p,forEach:g,groupBy:v,identity:m,map:y,mapObj:b,max:w,min:k,omit:O,pick:S,pluck:E,range:A,reduce:j,reject:_,rename:T,some:P}},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return p}),n.d(e,"h",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"f",function(){return m}),n.d(e,"e",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"i",function(){return w}),n.d(e,"j",function(){return k});var i=n(0),o={DEFAULT:"https://d1bl11pgu3tw3h.cloudfront.net","refresh-demos":"https://duipxr364cdla.cloudfront.net",abccolor:"https://dkggbgsyvgsr6.cloudfront.net",adn:"https://d3hx2fmdmxvu47.cloudfront.net",advancelocal:"https://dm32zrtgin2a8.cloudfront.net",answers:"https://d3ed7e5yt5qhaw.cloudfront.net",appledaily:"https://d2bdaljplukmuj.cloudfront.net",bostonglobe:"https://d1zokzhal29fpg.cloudfront.net",bp:"https://dv925xhcutrrv.cloudfront.net",cmg:"https://d2o045f7emlzw.cloudfront.net",demo:"https://d328y0m0mtvzqc.cloudfront.net",dmn:"https://d2bvfdz3bljcfk.cloudfront.net",elcomercio:"https://d1tqo5nrys2b20.cloudfront.net",gmg:"https://d3t0x48b5v1we0.cloudfront.net",grupoclarin:"https://d2w9ap1xsny1x1.cloudfront.net",gruponacion:"https://d2d765ytpxgyaz.cloudfront.net",gruporepublica:"https://d1lmwiprz325su.cloudfront.net",infobae:"https://d2uans147eyg5w.cloudfront.net",larazon:"https://d4rumjya1go0z.cloudfront.net",lanacionar:"https://d1zp4l5vb5htxp.cloudfront.net",leparisien:"https://d2hvlo0zc03amm.cloudfront.net",laprensa:"https://dfolklnl1rz69.cloudfront.net",madsack:"https://d292syca71gp6a.cloudfront.net",mco:"https://dv90bhm02uda6.cloudfront.net",nzme:"https://djlju39ioylga.cloudfront.net",obp:"https://d1ubiqy58ep1oo.cloudfront.net",pmn:"https://dzyf5jtgd0sxp.cloudfront.net",prisa:"https://dg4rmse8mb0lw.cloudfront.net",raycom:"https://d3mo2m0b34ee8e.cloudfront.net",semana:"https://d2pdh19wt88q5.cloudfront.net",spectator:"https://d2bnz05fk6ka6f.cloudfront.net",staging:"https://d20bvihs725teq.cloudfront.net",tbt:"https://d3a8t11oyn5iv.cloudfront.net",tgam:"https://d6e4eccju4kk3.cloudfront.net",tronc:"https://diodxcszlbmwk.cloudfront.net",wapo:"https://d1pz6dax0t5mop.cloudfront.net",wweek:"https://d1d8qhh5luwkfj.cloudfront.net"},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";return o[t]||o.DEFAULT},a={wapo:"https://d3loyummexm3dy.cloudfront.net"},s=/localhost|10\.0\.2\.2/;function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaBoot.js",e=document.querySelector('script[src*="'.concat(t,'"]')),n=e?e.src.toLowerCase():"",i=n?n.split("//")[1].split("?")[0].split("/"):[];i.shift(),i.pop(),i=i.join("/");var o=location.pathname.split("/");return o.shift(),o.pop(),o=o.join("/"),s.test(location.origin)?"local":i||(o||"prod")}function u(){return Object(i.get)(window,"PoWaSettings.org","DEFAULT")}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c(),n=arguments.length>2?arguments[2]:void 0,i=function(e){return"".concat(r(t),"/").concat(e,"/org/").concat(t,".js?org=").concat(t)};return n?i("v/".concat(n)):"local"===e?"/org/".concat(t,".js"):i(e)}var d="5.2.0";function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"streamsense.min.js",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return"".concat(r(),"/vendor/comscore/").concat(n,"/").concat(e,"?org=").concat(t)}var f="0.12.4";function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.get)(window,"PoWaSettings.hlsjs.script","hls.min.js"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.get)(window,"PoWaSettings.hlsjs.version",f);return Object(i.get)(window,"PoWaSettings.hlsjs.url","".concat(r(),"/vendor/hls.js/").concat(n,"/").concat(e,"?org=").concat(t))}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return"".concat(r(),"/asset/").concat(t,"?org=").concat(e)}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powa.js",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c(),i=arguments.length>3?arguments[3]:void 0,o=function(n){return"".concat(r(e),"/").concat(n,"/").concat(t,"?org=").concat(e)};return i?o("v/".concat(i)):"local"===n?"/js/".concat(t):o(n)}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/".concat(t,"Audio.js");default:return"".concat(a[t],"/").concat(e,"/").concat(t,"Audio.js")}}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/powAudioBoot.js";default:return"".concat(a[t],"/").concat(e,"/powAudioBoot.js")}}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/powAudio.js";default:return"".concat(a[t],"/").concat(e,"/powAudio.js")}}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();arguments.length>2&&arguments[2];switch(e){case"local":return"/powaEmbed.html";default:return"".concat(r(t),"/").concat(e,"/powaEmbed.html")}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();arguments.length>2&&arguments[2];switch(e){case"local":return"/powaPlaylist.html";default:return"".concat(r(t),"/").concat(e,"/powaPlaylist.html")}}},,function(t,e,n){"use strict";n.r(e),n.d(e,"$",function(){return l}),n.d(e,"PoWaPack",function(){return S});var i=n(1),o=n(0),r=n(10);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function l(t){return new S(t)}var d,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new Set;function v(){d=null,g.size&&(g.forEach(function(t){var e=f.get(t),n=p.get(t),i=t.width(),o=t.height();e===i&&n===o||(f.set(t,i),p.set(t,o),h.get(t).trigger("resize",{width:i,height:o,oldWidth:e,oldHeight:n}))}),d=requestAnimationFrame(v))}function m(t){var e=this;h.get(this).on("resize",t),g.add(this),f.set(this,this.width()),p.set(this,this.height()),window.ResizeObserver?(this.ro||(this.ro=new window.ResizeObserver(function(t){var e=this;t.forEach(function(t){var n=e;if(g.has(n)){var i=f.get(n),o=p.get(n),r=t.contentRect.width,a=t.contentRect.height?t.contentRect.height:t.target.offsetHeight;f.set(n,r),p.set(n,a),h.get(n).trigger("resize",{width:r,height:a,oldWidth:i,oldHeight:o})}})}.bind(this))),this.elements.forEach(function(t){return e.ro.observe(t)})):d||(d=requestAnimationFrame(v))}function y(){this._bodyObserver&&this._bodyObserver.disconnect(),this.addedToDOMRAF&&cancelAnimationFrame(this.addedToDOMRAF)}function b(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=function(t,n,i){return e.trigger(t,{isViewable:n,intersectionRatio:i})};this.intersectionObserver||this.throttledCheckViewable||function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=function(e){var n=e.isViewable?i.f.VIEWABLE:i.f.NOT_VIEWABLE;e.isViewable!==t.inFrame&&(t.inFrame=e.isViewable,t.trigger(n,e))};if(this.viewableThreshold=e,this.inFrame=Object(o.getViewableFraction)(this.elements[0])>=e,window.IntersectionObserver)this.intersectionObserver=new IntersectionObserver(function(t){n({isViewable:e?t[0].intersectionRatio>=e:t[0].isIntersecting,intersectionRatio:t[0].intersectionRatio})},{threshold:e}),this.intersectionObserver.observe(this.elements[0]);else{this.throttledCheckViewable=Object(o.throttle)(function(){var i=Object(o.getViewableFraction)(t.elements[0]);n({isViewable:e?i>=e:!!i,intersectionRatio:i})},100),window.addEventListener("scroll",this.throttledCheckViewable,!1)}}.call(this,n);var a=Object(o.getViewableFraction)(this.elements[0]);t===i.f.VIEWABLE&&(this.viewableThreshold?this.viewableThreshold<=a&&r(i.f.VIEWABLE,!0,a):a&&r(i.f.VIEWABLE,!0,a)),t===i.f.NOT_VIEWABLE&&(this.viewableThreshold?this.viewableThreshold>a&&r(i.f.NOT_VIEWABLE,!1,a):a||r(i.f.NOT_VIEWABLE,!1,a))}function w(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b".concat(e,"\\b")).test(t.className)}function k(t,e){w(t,e)||(t.classList?t.classList.add(e):w(t,e)||(t.className+=" ".concat(e)))}function O(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b".concat(e,"\\b"),"g"),"")}var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.bindAll)(this),this.isPoWaPack=!0,h.set(this,new r.a),this.elements=[],(e="string"==typeof e?e.trim():e)instanceof HTMLElement)this.elements.push(e);else if(e instanceof NodeList)this.elements=s(e);else if(e.length&&"<"===e[0]){var i;(i=this.elements).push.apply(i,s(this.createDomNode(e)))}else if(e.length&&"#"===e[0])this.elements.push(this.getElement(e,n));else{var a;(a=this.elements).push.apply(a,s(this.getElements(e,n)))}}return u(t,null,[{key:"EVENTS",get:function(){return i.f}}]),u(t,[{key:"add",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(n=n.isPoWaPack?n:new t(n)).elements.forEach(function(t){return e.elements.push(t)})}},{key:"append",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements.length?n.elements.forEach(function(t){return e.elements[e.elements.length-1].appendChild(t)}):n.elements.forEach(function(t){return e.elements.push(t)})}},{key:"after",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements.length?(n.elements.reverse(),n.elements.forEach(function(t){var n=e.elements[e.elements.length-1];n.parentNode.insertBefore(t,n.nextSibling)}),n.elements.reverse()):n.elements.forEach(function(t){return e.elements.push(t)})}},{key:"wrap",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements[0]&&(n.parent().elements[0].insertBefore(this.elements[0],n.elements[0]),n.elements.forEach(function(t){return e.elements[0].appendChild(t)}))}},{key:"attr",value:function(t,e){if(void 0===e&&this.elements.length)return this.elements[0].getAttribute(t);!0===e&&this.elements.length?this.elements.forEach(function(e){return e.setAttribute(t,"")}):!1===e&&this.elements.length?this.elements.forEach(function(e){return e.removeAttribute(t)}):this.elements.forEach(function(n){return n.setAttribute(t,e)})}},{key:"removeAttr",value:function(t){this.elements.forEach(function(e){return e.removeAttribute(t)})}},{key:"createDomNode",value:function(t){if("string"==typeof t){var e=document.createElement("div");return e.innerHTML=t,s(e.childNodes).map(function(t){return t.parentNode.removeChild(t)})}}},{key:"detach",value:function(){this.elements.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},{key:"getElement",value:function(t,e){return(e||document).querySelector(t)}},{key:"getElements",value:function(t,e){if(!t)return[];var n=(e||document).querySelectorAll(t);return Array.prototype.slice.call(n)}},{key:"hasClass",value:function(t){var e=this.elements.map(function(e){return w(e,t)});return 0===e.length?void 0:1===e.length?e[0]:e}},{key:"addClass",value:function(t){this.elements.forEach(function(e){return k(e,t)})}},{key:"removeClass",value:function(t){this.elements.forEach(function(e){return O(e,t)})}},{key:"toggleClass",value:function(t){this.elements.forEach(function(e){return function(t,e){w(t,e)?O(t,e):k(t,e)}(e,t)})}},{key:"getClasses",value:function(){return this.elements.reduce(function(t,e){return t.concat(Array.from(e.classList))},[])}},{key:"html",value:function(t){if(this.elements.length){if(!t)return this.elements[0].innerHTML;this.elements[0].innerHTML=t}}},{key:"css",value:function(t){var e=this,n=function(n){"object"===a(t[n])?e.find(n).css(t[n]):e.elements.forEach(function(e){return e.style[n]=t[n]})};for(var i in t)n(i)}},{key:"parent",value:function(){return this.elements.length?new t(this.elements[0].parentNode):null}},{key:"children",value:function(){return this.elements.length?new t(this.elements[0].childNodes):null}},{key:"width",value:function(){return this.elements.length?this.elements[0].offsetWidth:null}},{key:"height",value:function(){return this.elements.length?this.elements[0].offsetHeight:null}},{key:"offset",value:function(){if(!this.elements.length)return null;var t=this.elements[0].getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},{key:"position",value:function(){return this.elements.length?{top:this.elements[0].offsetTop,left:this.elements[0].offsetLeft}:null}},{key:"isInDOM",value:function(){return this.elements.length?this.reduce(function(t,e){return t&&document.body.contains(e)},!0):null}},{key:"find",value:function(e){e=e.replace(/\s/g,"");var n,i=[];return 1===this.elements.length?new t(e,this.elements[0]):(this.elements.forEach(function(n){return i.push(new t(e,n))}),i.length?(i.forEach(function(t){var e;n?(e=n.elements).push.apply(e,s(t.elements)):n=t}),n):void 0)}},{key:"show",value:function(){return this.elements.reduce(function(t,e){return e instanceof HTMLElement&&"none"===e.style.display?(e.style.display=e.getAttribute("data-display")||"",!0):t},!1)}},{key:"hide",value:function(){return this.elements.reduce(function(t,e){if(e instanceof HTMLElement){var n=Object(o.get)(e,"style.display"),i=Object(o.get)(e,"currentStyle.display"),r=getComputedStyle(e).display,a=n||i||r;return"none"!==a?(a&&e.setAttribute("data-display",a),e.style.display="none",!0):t}return t},!1)}},{key:"toggleShow",value:function(){this.visible()?this.hide():this.show()}},{key:"visible",value:function(){return this.elements.reduce(function(t,e){return e instanceof HTMLElement?t&&"none"!==e.style.display:t},!0)}},{key:"empty",value:function(){this.elements.forEach(function(t){return t.innerHTML=""})}},{key:"filter",value:function(t){return this.elements.filter(t)}},{key:"which",value:function(t){return this.elements.find(t)}},{key:"forEach",value:function(t){return this.elements.forEach(t),this}},{key:"map",value:function(t){return this.elements.map(t)}},{key:"reduce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!=this.elements[0]?this.elements[0]:0;return this.elements.reduce(t,e)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e)switch(t){case i.f.RESIZE:m.call(this,e);break;case i.f.ADDED_TO_DOM:(function t(e){var n=this;this.isInDOM()?(this.addedToDOMRAF&&delete this.addedToDOMRAF,e()):window.MutationObserver?(this._bodyObserver=new MutationObserver(function(t){n.isInDOM()&&(n._bodyObserver.disconnect(),delete n._bodyObserver,e())}),this._bodyObserver.observe(document.body,{childList:!0,subtree:!0})):this.addedToDOMRAF=requestAnimationFrame(function(){return t.call(n,e)})}).call(this,e);break;default:this.elements.forEach(function(n){return n.addEventListener(t,e)}),t!==i.f.VIEWABLE&&t!==i.f.NOT_VIEWABLE||b.call(this,t,n.threshold)}}},{key:"off",value:function(t,e){if(t&&e)switch(t){case i.f.RESIZE:(function(t){var e=h.get(this);e.off("resize",t),e.length("resize")||g.delete(this)}).call(this,e);break;case i.f.ADDED_TO_DOM:y.call(this);break;default:this.elements.forEach(function(n){return n.removeEventListener(t,e)})}}},{key:"once",value:function(t,e,n){var i=this,o=arguments;if(t&&e){this.on(t,function n(){i.off(t,n),e(o)},n)}}},{key:"onceIf",value:function(t,e,n,i){var o=this,r=arguments;if(t&&n){this.on(t,function i(){e(r)&&(o.off(t,i),n(r))},i)}}},{key:"until",value:function(t,e,n,i){var o=this,r=arguments;if(t&&n){this.on(t,function i(){n(r),e(r)&&o.off(t,i)},i)}}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){e=Object.assign({type:t},e);var n=new CustomEvent(t,{detail:e});this.elements.forEach(function(t){return t.dispatchEvent(n)})}}},{key:"destroy",value:function(){this.detach(),h.get(this).destroy(),h.set(this,null),g.delete(this),y.call(this),this.intersectionObserver&&this.intersectionObserver.disconnect(),this.throttledCheckViewable&&window.removeEventListener("scroll",this.throttledCheckViewable,!1),this.empty()}}]),t}()},,,function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e,n){t&&e&&(n=n||e,this.events[t]=this.events[t]||new Map,this.events[t].set(e,e.bind(n)))}},{key:"off",value:function(t,e){this.events[t]&&this.events[t].delete(e)}},{key:"once",value:function(t,e,n){var i=this;if(n=n||e,t&&e){this.on(t,function n(){i.off(t,n),e.apply(void 0,arguments)},n)}}},{key:"onceIf",value:function(t,e,n,i){var o=this;if(i=i||n,t&&e&&n){this.on(t,function i(){e.apply(void 0,arguments)&&(o.off(t,i),n.apply(void 0,arguments))},i)}}},{key:"until",value:function(t,e,n,i){var o=this;if(i=i||n,t&&e&&n){this.on(t,function i(){n.apply(void 0,arguments),e.apply(void 0,arguments)&&o.off(t,i)},i)}}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({type:t},e),this.events["*"]&&this.events["*"].forEach(function(n){return n(e,t)}),this.events[t]&&this.events[t].forEach(function(n){return n(e,t)})}},{key:"length",value:function(t){return this.events[t]?this.events[t].size:0}},{key:"destroy",value:function(){var t=this;Object(i.forEach)(this.events,function(e,n){e.forEach(function(t){return e.delete(t)}),delete t.events[n]})}}])&&o(e.prototype,n),r&&o(e,r),t}()},function(t,e,n){var i=n(28)("wks"),o=n(22),r=n(9).Symbol,a="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=i},function(t,e,n){var i=n(9),o=n(8),r=n(16),a=n(23),s=n(24),c=function(t,e,n){var u,l,d,h,f=t&c.F,p=t&c.G,g=t&c.S,v=t&c.P,m=t&c.B,y=p?i:g?i[e]||(i[e]={}):(i[e]||{}).prototype,b=p?o:o[e]||(o[e]={}),w=b.prototype||(b.prototype={});for(u in p&&(n=e),n)d=((l=!f&&y&&void 0!==y[u])?y:n)[u],h=m&&l?s(d,i):v&&"function"==typeof d?s(Function.call,d):d,y&&a(y,u,d,t&c.U),b[u]!=d&&r(b,u,h),v&&w[u]!=d&&(w[u]=d)};i.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(18),o=n(30);t.exports=n(14)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(19),o=n(48),r=n(40),a=Object.defineProperty;e.f=n(14)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(13);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(34),o=n(29);t.exports=function(t){return i(o(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n(5),o=n(2),r=n(1),a=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p={debug:!1},g=Object(o.mapObj)(r.c,function(t){return".".concat(t)}),v={click:{query:"[class*=".concat(r.c.powaClick,"]"),customRE:/^powa-click-(.*)/,event:r.d.POWA_CLICK},mouseenter:{query:"[class*=".concat(r.c.powaHover,"]"),customRE:/^powa-hover-(.*)/,event:r.d.POWA_HOVER},mouseleave:{query:"[class*=".concat(r.c.powaHover,"]"),customRE:/^powa-hover-(.*)/,event:r.d.POWA_HOVER},touchstart:{query:"[class*=".concat(r.c.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.d.POWA_TOUCH},touchend:{query:"[class*=".concat(r.c.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.d.POWA_TOUCH}},m=function(t,e){return Object(o.reduce)(e,function(e,n){var i=Object(a.getCapturingGroup)(n,t.customRE);return i&&e.push(i),e},[])},y=function(t){function e(t){var n,i,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(r=l(e).call(this,t))||"object"!==s(r)&&"function"!=typeof r?c(i):r,Object(a.bindAll)(c(n)),n.settings=Object(o.extend)(p,u),n.listen(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["PoWaPack"]),h(e,null,[{key:"EVENTS",get:function(){return r.d}},{key:"CLASSES",get:function(){return r.c}},{key:"DOT_CLASSES",get:function(){return g}}]),h(e,[{key:"listen",value:function(){var t=this;this.events=Object(o.extend)(r.d),Object(o.forEach)(v,function(e,n){t.$interactables=t.find(e.query),t.$interactables.on(n,t.handle),m(e,t.$interactables.getClasses()).map(a.camelCase).forEach(function(e){return t.events[e]=e})}),this.events=Object(a.freeze)(this.events)}},{key:"handle",value:function(t){var e=this;if(!t.powaShotHandled){t.powaShotHandled=!0;var n=v[t.type],i=t.currentTarget&&t.currentTarget.classList?Array.from(t.currentTarget.classList):t.currentTarget&&t.currentTarget.className?t.currentTarget.className.split(" "):[],s=m(n,i);s.length?Object(o.forEach)(s,function(n){var i=Object(a.camelCase)(n);e.trigger(r.d.POWA_CUSTOM,{type:i,event:t}),e.trigger(i,{type:i,event:t})}):this.trigger(n.event,{type:n.event,event:t})}}},{key:"html",value:function(t){u(l(e.prototype),"html",this).call(this,t),this.listen()}}]),e}()},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(9),o=n(16),r=n(17),a=n(22)("src"),s=n(53),c=(""+s).split("toString");n(8).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(r(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var i=n(36);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(35),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(50),o=n(42);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(8),o=n(9),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(31)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!1},function(t,e,n){var i=n(29);t.exports=function(t){return Object(i(t))}},,function(t,e,n){var i=n(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){e.f={}.propertyIsEnumerable},,function(t,e,n){var i=n(13),o=n(9).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){var i=n(13);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(28)("keys"),o=n(22);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},,function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(2),o=n(21),r=n(0),a=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p="PoWaShot",g=Object(i.extend)(a.c,{powaShot:"powa-shot",powaClickPlay:"".concat(a.c.powaClick,"-promo-play"),powaClickVideoToggle:"".concat(a.c.powaClick,"-promo-video-toggle")}),v=function(){return'<div class="'.concat(g.powaShot,'"></div>')},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t.powa-shot {\n\t\tposition: absolute;\n\t\tcolor: ".concat(Object(r.getColor)(t.colors.primary),';\n\t\tfont-family: "HelveticaNeue", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n\t\tz-index: 1;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t}\n\n\t.powa-shot-title {\n\t\tfont-size: x-large;\n\t\ttext-shadow: 2px 2px 3px ').concat(Object(r.getColor)(t.colors.background,.8),";\n\t\tposition: absolute;\n\t\ttop: 15px;\n\t\tleft: 15px;\n\t}\n\n\t.powa-shot-image {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t}\n\n\t.powa-shot-video {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.powa-shot-video-toggle {\n\t\tposition: absolute;\n\t\tbottom: 5px;\n\t\tright: 5px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\theight: 1em;\n\t\twidth: 1em;\n\t\tborder-radius: 1em;\n\n\t\tbackground-color: ").concat(Object(r.getColor)(t.colors.background,.25),";\n\t\tbox-shadow: 0 0 5px 1px ").concat(Object(r.getColor)(t.colors.background,.25),";\n\n\t\tcursor: pointer;\n\t\ttransition: all 0.25s;\n\t\tz-index: 1;\n\t}\n\n\t.powa-shot-video-toggle:hover {\n\t\tcolor: ").concat(Object(r.getColor)(t.colors.accent),";\n\t}\n\n\t.powa-shot-video-toggle-icon {\n\t\topacity: 0.5;\n\t}\n\n\t.powa-shot-play-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\theight: 4em;\n\t\twidth: 4em;\n\t\tborder-radius: 2em;\n\n\t\tbackground-color: ").concat(Object(r.getColor)(t.colors.background,.25),";\n\t\tbox-shadow: 0 0 10px 5px ").concat(Object(r.getColor)(t.colors.background,.25),";\n\n\t\tcursor: pointer;\n\t\ttransition: all 0.25s;\n\t\tz-index: 1;\n\t}\n\n\t.powa-shot-play-btn:hover {\n\t\tcolor: ").concat(Object(r.getColor)(t.colors.accent),";\n\t}\n\n\t.powa-shot-play-icon,\n\t.powa-shot-loading-icon {\n\t\topacity: 0.85;\n\t}\n")};function y(t){var e=Object(r.get)(t,"videoData.bandito.image"),n=Object(r.get)(t,"videoData.bandito.title"),i=Object(r.get)(t,"videoData.bandito.video"),o=Object(r.get)(t,"videoData.additional_properties.gifAsThumbnail"),a=o?Object(r.get)(t,"videoData.streams",[]).filter(function(t){return"gif"===t.stream_type})[0]:null,s=o?Object(r.get)(t,"videoData.streams",[]).filter(function(t){return"gif-mp4"===t.stream_type})[0]:null;return t.image=e||(a?a.url:t.image),t.title=n||t.title,t.title=null,t.video=i||(s?s.url:t.video),'\n\t\t<div class="powa-shot-image '.concat(g.powaClickPlay,'"').concat(t.image?" style=\"background-image: url('".concat(t.image,"')\""):"",">\n\t\t\t").concat(t.video?'<video class="powa-shot-video" src="'.concat(t.video,'" playsinline muted autoplay loop></video>'):"","\n\t\t\t").concat(t.title?'<div class="powa-shot-title">'.concat(t.title,"</div>"):"",'\n\t\t\t<div class="powa-shot-play-btn ').concat(g.powaClickPlay,'">\n\t\t\t\t').concat(Object(r.fontAwesomeIcon)("play-circle-o","powa-shot-play-icon","fa-5x"),"\n\t\t\t\t").concat(Object(r.fontAwesomeIcon)("circle-o-notch","powa-shot-loading-icon","fa-4x","fa-spin"),"\n\t\t\t</div>\n\t\t\t").concat(t.video?'<div class="powa-shot-video-toggle '.concat(g.powaClickVideoToggle,'">\n\t\t\t\t').concat(Object(r.fontAwesomeIcon)("pause-circle","powa-shot-video-toggle-icon","powa-shot-video-pause-icon"),"\n\t\t\t\t").concat(Object(r.fontAwesomeIcon)("play-circle","powa-shot-video-toggle-icon","powa-shot-video-play-icon"),"\n\t\t\t</div>"):"","\n\t\t</div>\n\t")}var b={debug:!1,style:m,template:y},w=function(t){function e(){var t,n,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=l(e).call(this,v(u)),t=!o||"object"!==s(o)&&"function"!=typeof o?c(n):o,Object(r.bindAll)(c(t)),Object(r.ensureFontAwesome)();var d=u.data||{};if(delete u.data,t.settings=Object(i.extend)(b,Object(i.defined)(u)),t.on(a.f.ADDED_TO_DOM,function(){var e={id:t.settings.id,type:a.n.POWA_RENDER,visible:t.visible()};Object.assign(e,{powa:t.settings.powa}),t.settings.powaTrack.trigger(a.n.POWA_RENDER,e)}),Object(i.forEach)(a.n,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),Object(i.forEach)(a.d,function(e){t.on(e,function(e){e=e.detail?e.detail:e,t.settings.powaTrack.trigger(e.type,e)})}),!Object(r.isObject)(t.settings.style)){var h=Object(i.extend)({colors:Object(a.o)()},t.settings),f=t.settings.default?m(h):"function"==typeof t.settings.style?t.settings.style(h):t.settings.style;Object(r.addCSS)(f,p)}return t.update(d),t.settings.$container.append(c(t)),t.on("contextmenu",t.promoVideoToggle),Object(i.forEach)(t.events,function(e){t[e]&&t.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o["a"]),h(e,null,[{key:"EVENTS",get:function(){return a.j}}]),h(e,[{key:"show",value:function(){u(l(e.prototype),"show",this).call(this),this.settings.powaTrack.trigger(a.j.PROMO_SHOW)}},{key:"hide",value:function(){u(l(e.prototype),"hide",this).call(this),this.settings.powaTrack.trigger(a.j.PROMO_HIDE)}},{key:"showPlayButton",value:function(){this.$promoPlay.show(),this.$promoLoading.hide()}},{key:"showLoadingIcon",value:function(){this.$promoPlay.hide(),this.$promoLoading.show()}},{key:"start",value:function(){this.showLoadingIcon()}},{key:"firstFrame",value:function(){this.showPlayButton()}},{key:"promoVideoToggle",value:function(){this.$promoVideo.elements.length&&(this.$promoVideo.elements[0].paused?(this.$promoVideoPlay.hide(),this.$promoVideoPause.show(),this.$promoVideo.elements[0].play()):(this.$promoVideoPlay.show(),this.$promoVideoPause.hide(),this.$promoVideo.elements[0].pause()))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.powa=this.settings.powa,this.html(this.settings.default?y(t):this.settings.template(t)),Object(r.isObject)(this.settings.style)&&Object(r.notEmpty)(this.settings.style)&&this.css(this.settings.style);var e=this.find(".powa-shot-click-play");e.elements.length&&(e.addClass(g.powaClickPlay),this.listen()),this.$promoPlay=this.find(".powa-shot-play-icon"),this.$promoLoading=this.find(".powa-shot-loading-icon"),this.$promoLoading.hide(),this.$promoVideo=this.find(".powa-shot-video"),this.$promoVideoPlay=this.find(".powa-shot-video-play-icon"),this.$promoVideoPause=this.find(".powa-shot-video-pause-icon"),this.$promoVideoPlay.hide()}}]),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return S});var i=n(5),o=n(2),r=n(0),a=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p="PoWaPlayer",g="video",v=Object(r.freeze)({1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}),m=Object(r.freeze)({ENDED:"ended",ERROR:"error",IDLE:"idle",PAUSED:"paused",PLAYING:"playing",SKIPPED:"skipped"}),y=Object(r.freeze)(["controls","currentTime","duration","muted","src","videoHeight","videoWidth","volume"]),b=Object(r.freeze)({currentTime:"time"}),w=Object(r.freeze)(["duration","time","volume"]),k=Object(r.freeze)(["videoHeight","videoWidth"]),O=Object(r.freeze)({debug:!0,debugExclusions:["progress","suspend","timeupdate"],preload:"metadata",stashVolume:!0,style:{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"},ready:function(){console.debug("[".concat(p,"] ready"))},setupError:console.error});var S=function(t){function e(){var t,n,i,a,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1],arguments.length>2&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=l(e).call(this,(a=u.type,"<".concat(a,' class="powa-').concat(a,'"></').concat(a,">"))))||"object"!==s(i)&&"function"!=typeof i?c(n):i,Object(r.bindAll)(c(t)),t.media=t.elements[0],t.settings=Object(o.extend)(O,u),t.setDefaultStyle(),t.clearStarted(),t.state=m.IDLE,t.debug=t.settings.debug,t.debugExclusions=t.settings.debugExclusions,t._setupPlayerEvents(),t.attr("id",t.settings.id),t.attr("playsinline","true"),t.attr("preload",t.settings.preload),t.attr("controlslist","nodownload"),t.setControls(t.settings.controls),t.settings.loop&&(t.attr("loop",!0),t.setControls(!1),t.loop={count:0}),t.settings.autoplay&&t.attr("autoplay",!0),t.settings.type===g&&t.attr("crossOrigin","anonymous"),t.settings.volume=Object(r.get)(c(t),"settings.volume",Object(r.parseString)(Object(r.fetchLocal)("powaVolume")))||1,t.settings.muted=Object(r.get)(c(t),"settings.muted",Object(r.parseString)(Object(r.fetchLocal)("powaMuted")))||!1,t.volume(t.settings.volume),t.mute(t.settings.muted),t.stream=t.settings.stream,t.stream&&t.load(t.stream),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["PoWaPack"]),h(e,null,[{key:"powaDown",value:function(t){return Object(a.p)(t)}},{key:"MODULE",get:function(){return p}},{key:"AUDIO",get:function(){return"audio"}},{key:"VIDEO",get:function(){return g}},{key:"EVENTS",get:function(){return a.g}},{key:"STATES",get:function(){return m}}]),h(e,[{key:"_setupPlayerEvents",value:function(){var t=this;["abort","canplay","canplaythrough","click","contextmenu","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"].map(function(e){return t.on(e,t._playerEventHandler)})}},{key:"setDefaultStyle",value:function(){this.css(this.settings.style)}},{key:"_setSneakyStart",value:function(){this.sneakyStart={muted:this.media.muted},this.media.muted=!0,this.css({opacity:0})}},{key:"_unsetSneakyStart",value:function(){if(this.sneakyStart){var t=this.sneakyStart.muted;this.sneakyStart=null,this.mute(t),this.css({opacity:1})}}},{key:"_playerEventHandler",value:function(t){this.debug&&!this.debugExclusions.includes(t.type)&&console.debug("[".concat(p,"] ").concat(t.type),t),this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](t)}},{key:"_clickHandler",value:function(t){this.trigger(a.g.MEDIA_CLICK,Object(o.extend)(this.getStatus(),{type:a.m.MEDIA_CLICK,event:t}))}},{key:"_contextmenuHandler",value:function(t){t.preventDefault(),this.trigger(a.g.MEDIA_RIGHT_CLICK,Object(o.extend)(this.getStatus(),{type:a.m.MEDIA_RIGHT_CLICK,event:t}))}},{key:"_durationchangeHandler",value:function(t){this.trigger(a.g.META,Object(o.extend)(this.getStatus(),{type:a.m.META,event:t}))}},{key:"_endedHandler",value:function(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.mediaStarted&&(this.state=m.ENDED,this.trigger(a.g.COMPLETE,Object(o.extend)(this.getStatus(),{type:a.m.COMPLETE,event:t})),this._ended(a.m.COMPLETE)):this.trigger(a.g.COMPLETE,t)}},{key:"_errorHandler",value:function(t){if(this.attr("src")){this.state=m.ERROR;var e=Object(r.get)(t,"srcElement.error.code",null),n=Object(r.get)(t,"srcElement.src",null),i=Object(r.get)(t,"srcElement.error.message",null),s=Object(o.extend)(this.getStatus(),{code:e,stream:n,message:i,mediaError:e?v[e]:null,type:a.m.ERROR,event:t});null===e&&(s.nonBlocking=!0),console.error(a.g.ERROR,s),this.trigger(a.g.ERROR,s),this._ended(a.m.ERROR)}}},{key:"_loadstartHandler",value:function(t){var e=this.attr("src");switch(this.settings.type){case"audio":""===e?(this.state=m.IDLE,this.trigger(a.g.UNLOADED,Object(o.extend)(this.getStatus(),{type:a.m.UNLOADED,event:t}))):this.trigger(a.g.LOADED,Object(o.extend)(this.getStatus(),{type:a.m.LOADED,event:t}));break;case g:""===e?(this.state=m.IDLE,this.trigger(a.g.UNLOADED,Object(o.extend)(this.getStatus(),{type:a.m.UNLOADED,event:t}))):e.startsWith("blob:")||(this.state=m.IDLE,this.trigger(a.g.LOADED,Object(o.extend)(this.getStatus(),{type:a.m.LOADED,event:t})))}}},{key:"_pauseHandler",value:function(t){this.state=this.state===m.SKIPPED?m.SKIPPED:m.PAUSED,this.trigger(a.g.PAUSE,Object(o.extend)(this.getStatus(),{type:a.m.PAUSE,event:t}))}},{key:"_playHandler",value:function(t){this.started||this.mediaStarted?this.started&&this.mediaStarted&&this.state!==m.PLAYING&&(this.state=m.PLAYING,this.trigger(a.g.PLAY,Object(o.extend)(this.getStatus(),{type:a.m.PLAY,event:t}))):(this.started=!0,this.trigger(a.g.START,Object(o.extend)(this.getStatus(),{type:a.m.START})))}},{key:"_playingHandler",value:function(t){this._playHandler(t)}},{key:"_progressHandler",value:function(t){if(this.media.buffered&&this.media.buffered.length){var e=this.media.buffered.end(this.media.buffered.length-1)/this.media.duration;this.trigger(a.g.PROGRESS,Object(o.extend)(this.getStatus(),{type:a.m.PROGRESS,progress:e,event:t}))}}},{key:"_seekedHandler",value:function(t){this.trigger(a.g.SEEKED,Object(o.extend)(this.getStatus(),{type:a.m.SEEKED}))}},{key:"_timeupdateHandler",value:function(t){if(this.started&&this.mediaStarted){var e=this.getStatus();this.firstFrame&&(this.debug&&!this.debugExclusions.includes(a.g.FIRST_FRAME)&&console.debug("[".concat(p,"] ").concat(a.g.FIRST_FRAME)),this.firstFrame=!1,this.trigger(a.g.FIRST_FRAME,Object(o.extend)(e,{type:a.m.FIRST_FRAME}))),this.loop&&(this.loop.lastTime>e.time&&(this.debug&&!this.debugExclusions.includes(a.g.LOOP)&&console.debug("[".concat(p,"] ").concat(a.g.LOOP)),this._endedHandler(this.loop.lastEvent,!1),this.trigger(a.g.LOOP,Object(o.extend)(e,{loopCount:++this.loop.count,type:a.m.LOOP,event:t}))),this.loop.lastTime=e.time,this.loop.lastEvent=Object(o.extend)(e,{type:a.m.COMPLETE,event:t})),this.trigger(a.g.TIME,Object(o.extend)(e,{type:a.m.TIME,event:t}))}}},{key:"_volumechangeHandler",value:function(t){if(!this.sneakyStart){var e=this.getStatus();this.settings.stashVolume&&Object(r.stashLocal)({powaVolume:e.volume,powaMuted:e.muted});var n=this.settings.muted!==e.muted,i=this.settings.volume!==e.volume;n&&(this.settings.muted=e.muted,this.trigger(a.g.MUTED,Object(o.extend)(e,{type:a.m.MUTED,event:t}))),i&&(this.settings.volume=e.volume,this.trigger(a.g.VOLUME,Object(o.extend)(e,{type:a.m.VOLUME,event:t})))}}},{key:"_ended",value:function(t,e){this.debug&&!this.debugExclusions.includes(a.g.END)&&console.debug("[".concat(p,"] ").concat(a.g.END),t),this.clearStarted(),this.state=m.IDLE,this.trigger(a.g.END,Object(o.extend)(this.getStatus(),{status:t},e))}},{key:"clearStarted",value:function(){this.firstFrame=!0,this.mediaStarted=!1,this.started=!1}},{key:"close",value:function(){this.pause()}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.noop;this.debug&&console.debug("[".concat(p,"][load]"),t),"audio"===this.settings.type&&(this.state=m.IDLE),t===this.stream||this.isAd||(this.clearStarted(),this.stream=t),this.once(a.g.LOADED,e),this.attr("src",t)}},{key:"unload",value:function(t){this.debug&&console.debug("[".concat(p,"][unload]")),this.stream="",this.clearStarted(),this.once(a.g.UNLOADED,t),this.attr("src","")}},{key:"_pause",value:function(){var t=this.media.pause();void 0!==t&&t.then(r.noop).catch(r.noop)}},{key:"pause",value:function(){this.debug&&console.debug("[".concat(p,"][pause]")),this._pause()}},{key:"_play",value:function(){var t=this,e=this.media.play();if(void 0!==e){var n;n=setTimeout(function(){t.trigger(a.g.BROKEN_PROMISE,Object(o.extend)(t.getStatus(),{type:a.m.BROKEN_PROMISE})),t.pause(),t._play()},5*a.a);var i=function(){return clearTimeout(n)};e.then(i).catch(i)}}},{key:"play",value:function(){this.debug&&console.debug("[".concat(p,"][play]")),this.started?this.mediaStarted?this._play():(this.mediaStarted=!0,this._unsetSneakyStart(),this.trigger(a.g.MEDIA_START,Object(o.extend)(this.getStatus(),{type:a.m.MEDIA_START})),this.stream?this.load(this.stream,this._play):this._play()):(this.started=!0,this._setSneakyStart(),this.media.currentTime&&(this.media.currentTime=0),this.trigger(a.g.START,Object(o.extend)(this.getStatus(),{type:a.m.START})))}},{key:"togglePlay",value:function(){this.state===m.PLAYING?this.pause():this.play()}},{key:"seek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.debug&&console.debug("[".concat(p,"][seek]")),this.media.currentTime=t,this.media.currentTime}},{key:"jump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return isNaN(this.media.currentTime)?null:this.seek(this.media.currentTime+t)}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.media.muted;this.sneakyStart?(this.sneakyStart.muted=t,this.settings.stashVolume&&Object(r.stashLocal)({powaMuted:t})):this.media.muted=t}},{key:"volume",value:function(t){this.media.volume=t}},{key:"skip",value:function(){this.debug&&console.debug("[".concat(p,"][skip]")),this._pause(),this.state=m.SKIPPED;var t=this.getStatus();this.trigger(a.g.SKIP,Object(o.extend)(t,{type:a.m.SKIP})),this._ended(a.m.SKIP,Object(o.pick)(t,["time","duration"]))}},{key:"setControls",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.attr("controls"))?this.attr("controls",!0):this.removeAttr("controls")}},{key:"getStatus",value:function(){var t=Object(o.chain)(this.media).pick(y).rename(b).filter(function(t,e){return!k.includes(e)||t}).filter(function(t,e){return!w.includes(e)||!isNaN(t)}).value();return t.muted=this.sneakyStart?this.sneakyStart.muted:t.muted,Object(o.extend)({mediaStarted:this.mediaStarted,running:this.state===m.PAUSED||this.state===m.PLAYING,started:this.started,state:this.state,stream:this.stream},t)}},{key:"destroy",value:function(){u(l(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e){t.exports={}},function(t,e,n){t.exports=!n(14)&&!n(15)(function(){return 7!=Object.defineProperty(n(39)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(20),o=n(26),r=n(54);t.exports=function(t){return function(e,n,a){var s,c=i(e),u=o(c.length),l=r(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(17),o=n(20),r=n(49)(!1),a=n(41)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~r(u,n)||u.push(n));return u}},function(t,e,n){var i=n(11)("unscopables"),o=Array.prototype;null==o[i]&&n(16)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e,n){var i=n(18).f,o=n(17),r=n(11)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){t.exports=n(28)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(35),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},function(t,e,n){n(56),t.exports=n(8).Object.assign},function(t,e,n){var i=n(12);i(i.S+i.F,"Object",{assign:n(57)})},function(t,e,n){"use strict";var i=n(27),o=n(43),r=n(37),a=n(32),s=n(34),c=Object.assign;t.exports=!c||n(15)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=a(t),c=arguments.length,u=1,l=o.f,d=r.f;c>u;)for(var h,f=s(arguments[u++]),p=l?i(f).concat(l(f)):i(f),g=p.length,v=0;g>v;)d.call(f,h=p[v++])&&(n[h]=f[h]);return n}:c},function(t,e,n){var i=n(25),o=n(11)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(108),o=n(29);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var i=n(11)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(9),o=n(8),r=n(31),a=n(74),s=n(18).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";var i=n(36);function o(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new o(t)}},,function(t,e,n){var i=n(24),o=n(34),r=n(32),a=n(26),s=n(92);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,d=6==t,h=5==t||d,f=e||s;return function(e,s,p){for(var g,v,m=r(e),y=o(m),b=i(s,p,3),w=a(y.length),k=0,O=n?f(e,w):c?f(e,0):void 0;w>k;k++)if((h||k in y)&&(v=b(g=y[k],k,m),t))if(n)O[k]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:O.push(g)}else if(l)return!1;return d?-1:u||l?l:O}}},function(t,e,n){var i=n(25);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i=n(97)(!0);n(67)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(31),o=n(12),r=n(23),a=n(16),s=n(47),c=n(98),u=n(52),l=n(100),d=n(11)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,v,m){c(n,e,p);var y,b,w,k=function(t){if(!h&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",S="values"==g,E=!1,A=t.prototype,j=A[d]||A["@@iterator"]||g&&A[g],_=j||k(g),T=g?S?k("entries"):_:void 0,P="Array"==e&&A.entries||j;if(P&&(w=l(P.call(new t)))!==Object.prototype&&w.next&&(u(w,O,!0),i||"function"==typeof w[d]||a(w,d,f)),S&&j&&"values"!==j.name&&(E=!0,_=function(){return j.call(this)}),i&&!m||!h&&!E&&A[d]||a(A,d,_),s[e]=_,s[O]=f,g)if(y={values:S?_:k("values"),keys:v?_:k("keys"),entries:T},m)for(b in y)b in A||r(A,b,y[b]);else o(o.P+o.F*(h||E),e,y);return y}},function(t,e,n){var i=n(19),o=n(99),r=n(42),a=n(41)("IE_PROTO"),s=function(){},c=function(){var t,e=n(39)("iframe"),i=r.length;for(e.style.display="none",n(69).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[r[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(9).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(19);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(47),o=n(11)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},function(t,e,n){var i=n(58),o=n(11)("iterator"),r=n(47);t.exports=n(8).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(11)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){e.f=n(11)},function(t,e,n){var i=n(50),o=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){"use strict";var i=n(58),o={};o[n(11)("toStringTag")]="z",o+""!="[object z]"&&n(23)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(19),o=n(36),r=n(11)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[r])?e:o(n)}},function(t,e,n){var i,o,r,a=n(24),s=n(128),c=n(69),u=n(39),l=n(9),d=l.process,h=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},f=function(t){delete m[t]},"process"==n(25)(d)?i=function(t){d.nextTick(a(y,t,1))}:g&&g.now?i=function(t){g.now(a(y,t,1))}:p?(r=(o=new p).port2,o.port1.onmessage=b,i=a(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(19),o=n(13),r=n(62);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(2),o=n(5),r=n(0),a=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h="PoWaContainer",f={powa:"powa",fullscreen:"powa-fullscreen",hover:"powa-hover",tap:"powa-tap",powaPane:"powa-pane"},p=Object(r.freeze)(Object(i.mapObj)(f,function(t){return".".concat(t)})),g=function(){return'<div class="'.concat(f.powaPane,'"></div>')},v={aspectRatio:9/16,interactions:[["fullscreenchange","mozfullscreenchange","msfullscreenchange","webkitfullscreenchange"],"mouseenter","mouseleave","resize","touchstart"],style:function(t){return"\n\t".concat(p.powa," {\n\t\tposition: relative;\n\t\tbackground: black;\n\t\theight: 0;\n\t\toverflow: hidden;\n\t}\n\n\t").concat(p.fullscreen," {\n\t\tposition: initial;\n\t}\n\n\t").concat(p.powaPane," {\n\t\theight: 100%;\n\t\tpointer-events: none;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tz-index: 2;\n\t}\n\n\t").concat(p.powaPane," > * {\n\t\tpointer-events: auto;\n\t}\n")},interactionTimeout:3},m=function(t){function e(t){var n,o,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,c=u(e).call(this,t.element),(n=!c||"object"!==s(c)&&"function"!=typeof c?l(o):c).addClass(f.powa),n.settings=Object(i.extend)(v,t),n.settings.interactionTimeout*=a.a,Object(r.bindAll)(l(n)),n.mousemove=Object(r.throttle)(n.mousemove,1e3).bind(l(n)),Object(r.has)(n.settings.client,"isDesktop")||(n.settings.client.isDesktop=!(n.settings.client.isMobile||n.settings.client.isTablet)),n.settings.interactions.filter(function(t){return n.settings.client.isDesktop||Array.isArray(t)||!t.startsWith("mouse")}).forEach(function(t){var e=Array.isArray(t)?t:[t];t=e[0];var i=n.settings[t]||n[t];i&&(n[t]||(n[t]=i.bind(l(n))),e.forEach(function(e){return n.on(e,n[t])}))});var d="function"==typeof n.settings.style?n.settings.style(n.settings):n.settings.style;Object(r.addCSS)(d,h);var p="".concat(100*n.settings.aspectRatio,"%");return n.css({paddingBottom:p}),n.append(g()),n}var n,p,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o["PoWaPack"]),n=e,(p=[{key:"_getFullscreenElement",value:function(){var t=this.settings.powa.get$video();return this.settings.client.isDesktop?this.elements[0]:t?t.elements[0]:null}},{key:"isFullscreen",value:function(){return Object(r.isFullscreen)(this._getFullscreenElement())}},{key:"fullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isFullscreen();this.isFullscreen()?t||Object(r.exitFullscreen)():t&&Object(r.requestFullscreen)(this._getFullscreenElement())}},{key:"fullscreenchange",value:function(t){var e=this.isFullscreen();e?(this.addClass(f.fullscreen),this.on("mousemove",this.mousemove)):(this.removeClass(f.fullscreen),this.off("mousemove",this.mousemove)),this.settings.powa.trigger(a.n.FULLSCREEN,{fullscreen:e,event:t})}},{key:"mouseenter",value:function(t){this.addClass(f.hover),this.settings.powa.trigger(a.n.HOVER,{type:a.n.HOVER,hover:!0,event:t})}},{key:"mouseleave",value:function(t){this.removeClass(f.hover),this.settings.powa.trigger(a.n.HOVER,{type:a.n.HOVER,hover:!1,event:t})}},{key:"mousemove",value:function(t){var e=this;clearTimeout(this.mouseTO),this.mouseTO=setTimeout(function(){e.settings.powa.trigger(a.n.MOUSE,{type:a.n.MOUSE,moving:!1,event:t})},this.settings.interactionTimeout),this.settings.powa.trigger(a.n.MOUSE,{type:a.n.MOUSE,moving:!0,event:t})}},{key:"resize",value:function(t){this.settings.powa.trigger(a.n.RESIZE,t)}},{key:"touchstart",value:function(t){var e=this;this.addClass(f.tap),this.settings.powa.trigger(a.n.TAP,{type:a.n.TAP,tap:!0,event:t}),clearTimeout(this.tapTO),this.tapTO=setTimeout(function(){e.removeClass(f.tap),e.settings.powa.trigger(a.n.TAP,{type:a.n.TAP,tap:!1,event:t})},this.settings.interactionTimeout)}}])&&c(n.prototype,p),m&&c(n,m),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(2),o=n(0),r=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var u="PoWaSellAdTag",l={ADTAG_ERROR:"adTagError",ADTAG_NULL:"adTagNull",ADTAG_LOADING:"adTagLoading",ADTAG_LOADED:"adTagLoaded"},d={adTagLocation:"window.PoWaSettings.advertising.adTag"},h=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.bindAll)(this),this.settings=Object(i.extend)(d,n),this.settings.adPreload&&this.settings.powaTrack.once(r.n.POWA_READY,function(){e.getAdTag().then(function(t){return e.settings.powa.loadAd(t,!0)})})}return c(t,null,[{key:"MODULE",get:function(){return u}},{key:"STATES",get:function(){return l}}]),c(t,[{key:"_adsAreDisabled",value:function(t){return!1===Object(o.get)(t,"additional_properties.advertising.playVideoAds")&&!Object(o.get)(window,"PoWaSettings.queryStringObj.powa-ad-tag")}},{key:"_getAdTag",value:function(t,e){switch(a(t)){case"function":return t({powa:this.settings.powa,videoData:e});case"string":return t.startsWith("window.")?(t=t.replace("window.",""),(t=Object(o.get)(window,t))?this._getAdTag.call(this,t,e):""):t;default:return""}}},{key:"_getVideoData",value:function(t){return Object(o.get)(this,"settings.powa.getVideoData")?this.settings.powa.getVideoData():null}},{key:"getAdTag",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getVideoData(),n=Object(o.get)(e,"mediaTailor")&&!Object(o.get)(e,"mediaTailor.error")?null:this.settings.getAdTag&&"function"==typeof this.settings.getAdTag?this.settings.getAdTag():Object(o.has)(this.settings,"getAdTag")?this.settings.getAdTag:this._getAdTag(this.settings.adTagLocation,e);return new Promise(function(i,a){t._adsAreDisabled(e)?(t.state=l.ADTAG_NULL,t.settings.powaTrack.trigger(r.n.AD_NULL,{eventID:921,errorMessage:"Ads are disabled in videoData.",module:u}),i(null)):n instanceof Promise?(t.state=l.ADTAG_LOADING,n.then(function(e){t.state=l.ADTAG_LOADED,i(e)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[".concat(u,"][getAdTag] Promise rejection");t.state=l.ADTAG_ERROR,t.settings.powaTrack.trigger(r.n.AD_ERROR,{eventID:922,error:e.toString?e.toString():e,errorMessage:Object(o.get)(e,"message","The 'getAdTag' Promise was rejected"),module:u}),a()})):(t.state=l.ADTAG_LOADED,i(n))})}},{key:"getStatus",value:function(){return this.state}}]),t}()},function(t,e,n){"use strict";var i=n(2),o=n(10),r=n(1),a=n(0);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=Object(a.freeze)({debug:!1,debugExclusions:["time","adTime","progress"]}),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(a.bindAll)(this),Object(a.has)(e,"keepHistory")&&Object(a.stashLocal)("powaTrack",e.keepHistory),this.keep=Object(a.fetchLocal)("powaTrack",!1),e.powaTrack.on(r.n.ALL,this.handler),e.powaTrack.on(r.n.END,this.cleanup),this.settings=Object(i.extend)(c,e),this.powaTrack=Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTrack"),[{event:"constructed",timestamp:Date.now()}]),this.powaTracked=Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTracked"),[])}var e,n,o;return e=t,(n=[{key:"handler",value:function(t,e){this.settings.debugExclusions.includes(e)||(this.track(t,e),this.alert(t,e))}},{key:"track",value:function(t,e){var n=Date.now(),i=this.powaTrack[this.powaTrack.length-1].timestamp,o=this.powaTrack[0].timestamp;this.powaTrack.push({data:t,delta:(n-i)/r.a,event:e,time:(n-o)/r.a,timestamp:n})}},{key:"alert",value:function(t,e){e===r.n.ERROR?(t.errorMessage&&console.error(t.errorMessage),console.error(e,t)):this.settings.debug&&console.warn(e,t)}},{key:"cleanup",value:function(){this.keep?this.powaTracked.push(this.powaTrack):Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTracked"),this.powaTrack),this.powaTrack=Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTrack"),[{event:"powaTrackClear",timestamp:Date.now()}])}},{key:"setDebug",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.settings.debug;this.settings.debug=t}}])&&s(e.prototype,n),o&&s(e,o),t}();function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d={endpoint:"https://d1d3jupgwm7m5r.cloudfront.net/prod/cloudfrontVideoTracker.png",events:[r.n.START],eventDataTemplate:function(t){return"?org=".concat(PoWaSettings.org,"&event=").concat(t.type,"&uuid=").concat(Object(a.get)(t,"videoData._id"),"&timestamp=").concat(Date.now())}},h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(a.bindAll)(this),this.settings=Object(i.extend)(d,e),this.setupListeners()}var e,n,o;return e=t,(n=[{key:"setupListeners",value:function(){var t=this;this.settings.events.forEach(function(e){return t.settings.powaTrack.on(e,t.track)})}},{key:"track",value:function(t){(new Image).src="".concat(this.settings.endpoint).concat(this.settings.eventDataTemplate(t))}}])&&l(e.prototype,n),o&&l(e,o),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return S});var b=Object(a.freeze)({debug:!1,debugExclusions:[r.n.AD_TIME,r.n.HOVER,r.n.POWA_BAR_HIDE,r.n.POWA_BAR_SHOW,r.n.PROGRESS,r.n.TIME],reportSkipped:!1,setupError:console.error}),w=[0,25,50,75,100],k=[r.n.POWA_RENDER,r.n.POWA_READY],O=[r.n.POWA_ERROR],S=function(t){function e(){var t,n,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=m(e).call(this),t=!o||"object"!==f(o)&&"function"!=typeof o?g(n):o,Object(a.bindAll)(g(t)),t.playerState={videoStarts:0,isFullscreen:!1},t.settings=Object(i.extend)(b,s),t.extenders=[t.extender],t.settings.extender&&t.extenders.push(t.settings.extender),Object(i.forEach)(r.n,function(e){t[e]&&t.on(e,t[e])});var c=Object(i.extend)({powaTrack:g(t)},Object(i.pick)(t.settings,["id","debug","debugExclusions","keepHistory"]));return t.powaTrackLocal=new u(c),t.powaTrackRemote=new h({id:t.settings.id,powaTrack:g(t)}),t}var n,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o["a"]),n=e,(s=[{key:"extender",value:function(t,e){return Object(i.chain)(this.playerState).rename({isFullscreen:"fullscreen"}).extend(t).value()}},{key:"extend",value:function(t){"function"==typeof t&&this.extenders.push(t)}},{key:"setDebug",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.settings.debug;this.settings.debug=t,this.powaTrackLocal.setDebug(t)}},{key:"getVideoStarts",value:function(){return this.playerState.videoStarts}},{key:"isReady",value:function(){return!!this.ready}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t===r.n.START&&this.videoStart(),n=Object(i.extend)(n,{type:t}),n=this.extenders.reduce(function(e,n){return n(e,t)},n),(t=n.type||t)&&(k.includes(t)&&Object(a.globalEvent)(t,n),O.includes(t)&&Object(a.globalError)(n,t),v(m(e.prototype),"trigger",this).call(this,t,n),t===r.n.POWA_READY&&(this.ready=!0))}},{key:"reportSkipped",value:function(t,e){var n=w.indexOf(t);this.settings.reportSkipped&&n>0&&this.reportPlayback(w[n-1],e)}},{key:"reportPlayback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="PLAYBACK_".concat(t);"live"===Object(a.get)(e,"videoData.video_type")||!r.l[n]||this.milestones[n]||(this.reportSkipped(t,e),this.milestones[n]=!0,this.trigger(r.l[n]))}},{key:"complete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.reportPlayback(100,t)}},{key:"fullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.isFullscreen=t.fullscreen}},{key:"hlsInitialLevel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.bitrate=t.bitrate}},{key:"hlsLevelSwitch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.bitrate=t.bitrate}},{key:"mediaStart",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.reportPlayback(0,t)}},{key:"powaReady",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.autoplay=t.autoplay,this.playerState.autoplayStatus=t.autoplayStatus}},{key:"time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.time&&t.duration){var e=t.time/t.duration;e>.75?this.reportPlayback(75,t):e>.5?this.reportPlayback(50,t):e>.25&&this.reportPlayback(25,t)}}},{key:"videoStart",value:function(){var t=this;this.playerState.videoStarts++,this.milestones={},Object(i.forEach)(r.l,function(e,n){return t.milestones[n]=!1})}}])&&p(n.prototype,s),c&&p(n,c),e}()},,function(t,e,n){"use strict";n(86),n(88),n(90),n(94),n(96),n(55),n(103),n(106),n(109),n(111),n(113),n(121);!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},function(t,e,n){(function(t){!function(t){var e=function(){try{return!!Symbol.iterator}catch(t){return!1}}(),n=function(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n},i=function(t){return encodeURIComponent(t).replace(/%20/g,"+")},o=function(t){return decodeURIComponent(String(t).replace(/\+/g," "))};(function(){try{var e=t.URLSearchParams;return"a=1"===new e("?a=1").toString()&&"function"==typeof e.prototype.set}catch(t){return!1}})()||function(){var o=function(t){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var e=typeof t;if("undefined"===e);else if("string"===e)""!==t&&this._fromString(t);else if(t instanceof o){var n=this;t.forEach(function(t,e){n.append(e,t)})}else{if(null===t||"object"!==e)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++){var r=t[i];if("[object Array]"!==Object.prototype.toString.call(r)&&2===r.length)throw new TypeError("Expected [string, any] as entry at index "+i+" of URLSearchParams's input");this.append(r[0],r[1])}else for(var a in t)t.hasOwnProperty(a)&&this.append(a,t[a])}},r=o.prototype;r.append=function(t,e){t in this._entries?this._entries[t].push(String(e)):this._entries[t]=[String(e)]},r.delete=function(t){delete this._entries[t]},r.get=function(t){return t in this._entries?this._entries[t][0]:null},r.getAll=function(t){return t in this._entries?this._entries[t].slice(0):[]},r.has=function(t){return t in this._entries},r.set=function(t,e){this._entries[t]=[String(e)]},r.forEach=function(t,e){var n;for(var i in this._entries)if(this._entries.hasOwnProperty(i)){n=this._entries[i];for(var o=0;o<n.length;o++)t.call(e,n[o],i,this)}},r.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),n(t)},r.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},r.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),n(t)},e&&(r[Symbol.iterator]=r.entries),r.toString=function(){var t=[];return this.forEach(function(e,n){t.push(i(n)+"="+i(e))}),t.join("&")},t.URLSearchParams=o}();var r=t.URLSearchParams.prototype;"function"!=typeof r.sort&&(r.sort=function(){var t=this,e=[];this.forEach(function(n,i){e.push([i,n]),t._entries||t.delete(i)}),e.sort(function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0}),t._entries&&(t._entries={});for(var n=0;n<e.length;n++)this.append(e[n][0],e[n][1])}),"function"!=typeof r._fromString&&Object.defineProperty(r,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(t){if(this._entries)this._entries={};else{var e=[];this.forEach(function(t,n){e.push(n)});for(var n=0;n<e.length;n++)this.delete(e[n])}var i,r=(t=t.replace(/^\?/,"")).split("&");for(n=0;n<r.length;n++)i=r[n].split("="),this.append(o(i[0]),i.length>1?o(i[1]):"")}})}(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t){var e,n,i;if(function(){try{var e=new t.URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()||(e=t.URL,i=(n=function(e,n){"string"!=typeof e&&(e=String(e));var i,o=document;if(n&&(void 0===t.location||n!==t.location.href)){(i=(o=document.implementation.createHTMLDocument("")).createElement("base")).href=n,o.head.appendChild(i);try{if(0!==i.href.indexOf(n))throw new Error(i.href)}catch(t){throw new Error("URL unable to set base "+n+" due to "+t)}}var r=o.createElement("a");if(r.href=e,i&&(o.body.appendChild(r),r.href=r.href),":"===r.protocol||!/:/.test(r.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:r});var a=new t.URLSearchParams(this.search),s=!0,c=!0,u=this;["append","delete","set"].forEach(function(t){var e=a[t];a[t]=function(){e.apply(a,arguments),s&&(c=!1,u.search=a.toString(),c=!0)}}),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var l=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==l&&(l=this.search,c&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})}).prototype,["hash","host","hostname","port","protocol"].forEach(function(t){!function(t){Object.defineProperty(i,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}(t)}),Object.defineProperty(i,"search",{get:function(){return this._anchorElement.search},set:function(t){this._anchorElement.search=t,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(i,{toString:{get:function(){var t=this;return function(){return t.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(t){this._anchorElement.href=t,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(t){this._anchorElement.pathname=t},enumerable:!0},origin:{get:function(){var t={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],e=this._anchorElement.port!=t&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(e?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(t){},enumerable:!0},username:{get:function(){return""},set:function(t){},enumerable:!0}}),n.createObjectURL=function(t){return e.createObjectURL.apply(e,arguments)},n.revokeObjectURL=function(t){return e.revokeObjectURL.apply(e,arguments)},t.URL=n),void 0!==t.location&&!("origin"in t.location)){var o=function(){return t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")};try{Object.defineProperty(t.location,"origin",{get:o,enumerable:!0})}catch(e){setInterval(function(){t.location.origin=o()},100)}}}(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(this,n(87))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n(89),t.exports=n(8).Array.includes},function(t,e,n){"use strict";var i=n(12),o=n(49)(!0);i(i.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)("includes")},function(t,e,n){n(91),t.exports=n(8).Array.find},function(t,e,n){"use strict";var i=n(12),o=n(64)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)("find")},function(t,e,n){var i=n(93);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(13),o=n(65),r=n(11)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){n(95),t.exports=n(8).Array.findIndex},function(t,e,n){"use strict";var i=n(12),o=n(64)(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)(r)},function(t,e,n){n(66),n(101),t.exports=n(8).Array.from},function(t,e,n){var i=n(35),o=n(29);t.exports=function(t){return function(e,n){var r,a,s=String(o(e)),c=i(n),u=s.length;return c<0||c>=u?t?"":void 0:(r=s.charCodeAt(c))<55296||r>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):r:t?s.slice(c,c+2):a-56320+(r-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(68),o=n(30),r=n(52),a={};n(16)(a,n(11)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(18),o=n(19),r=n(27);t.exports=n(14)?Object.defineProperties:function(t,e){o(t);for(var n,a=r(e),s=a.length,c=0;s>c;)i.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var i=n(17),o=n(32),r=n(41)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";var i=n(24),o=n(12),r=n(32),a=n(70),s=n(71),c=n(26),u=n(102),l=n(72);o(o.S+o.F*!n(73)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,d,h=r(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=l(h);if(v&&(g=i(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(e=c(h.length));e>m;m++)u(n,m,v?g(h[m],m):h[m]);else for(d=y.call(h),n=new f;!(o=d.next()).done;m++)u(n,m,v?a(d,g,[o.value,m],!0):o.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(18),o=n(30);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){n(104),t.exports=n(8).Object.keys},function(t,e,n){var i=n(32),o=n(27);n(105)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){var i=n(12),o=n(8),r=n(15);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},function(t,e,n){n(107),t.exports=n(8).String.endsWith},function(t,e,n){"use strict";var i=n(12),o=n(26),r=n(59),a="".endsWith;i(i.P+i.F*n(60)("endsWith"),"String",{endsWith:function(t){var e=r(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=o(e.length),s=void 0===n?i:Math.min(o(n),i),c=String(t);return a?a.call(e,c,s):e.slice(s-c.length,s)===c}})},function(t,e,n){var i=n(13),o=n(25),r=n(11)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,n){n(110),t.exports=n(8).String.includes},function(t,e,n){"use strict";var i=n(12),o=n(59);i(i.P+i.F*n(60)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(112),t.exports=n(8).String.startsWith},function(t,e,n){"use strict";var i=n(12),o=n(26),r=n(59),a="".startsWith;i(i.P+i.F*n(60)("startsWith"),"String",{startsWith:function(t){var e=r(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){n(114),n(76),n(119),n(120),t.exports=n(8).Symbol},function(t,e,n){"use strict";var i=n(9),o=n(17),r=n(14),a=n(12),s=n(23),c=n(115).KEY,u=n(15),l=n(28),d=n(52),h=n(22),f=n(11),p=n(74),g=n(61),v=n(116),m=n(65),y=n(19),b=n(13),w=n(20),k=n(40),O=n(30),S=n(68),E=n(117),A=n(118),j=n(18),_=n(27),T=A.f,P=j.f,D=E.f,C=i.Symbol,x=i.JSON,R=x&&x.stringify,L=f("_hidden"),I=f("toPrimitive"),M={}.propertyIsEnumerable,W=l("symbol-registry"),N=l("symbols"),$=l("op-symbols"),U=Object.prototype,B="function"==typeof C,H=i.QObject,F=!H||!H.prototype||!H.prototype.findChild,V=r&&u(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=T(U,e);i&&delete U[e],P(t,e,n),i&&t!==U&&P(U,e,i)}:P,z=function(t){var e=N[t]=S(C.prototype);return e._k=t,e},G=B&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},K=function(t,e,n){return t===U&&K($,e,n),y(t),e=k(e,!0),y(n),o(N,e)?(n.enumerable?(o(t,L)&&t[L][e]&&(t[L][e]=!1),n=S(n,{enumerable:O(0,!1)})):(o(t,L)||P(t,L,O(1,{})),t[L][e]=!0),V(t,e,n)):P(t,e,n)},q=function(t,e){y(t);for(var n,i=v(e=w(e)),o=0,r=i.length;r>o;)K(t,n=i[o++],e[n]);return t},Y=function(t){var e=M.call(this,t=k(t,!0));return!(this===U&&o(N,t)&&!o($,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,L)&&this[L][t])||e)},Q=function(t,e){if(t=w(t),e=k(e,!0),t!==U||!o(N,e)||o($,e)){var n=T(t,e);return!n||!o(N,e)||o(t,L)&&t[L][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=D(w(t)),i=[],r=0;n.length>r;)o(N,e=n[r++])||e==L||e==c||i.push(e);return i},X=function(t){for(var e,n=t===U,i=D(n?$:w(t)),r=[],a=0;i.length>a;)!o(N,e=i[a++])||n&&!o(U,e)||r.push(N[e]);return r};B||(s((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call($,n),o(this,L)&&o(this[L],t)&&(this[L][t]=!1),V(this,t,O(1,n))};return r&&F&&V(U,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",function(){return this._k}),A.f=Q,j.f=K,n(75).f=E.f=J,n(37).f=Y,n(43).f=X,r&&!n(31)&&s(U,"propertyIsEnumerable",Y,!0),p.f=function(t){return z(f(t))}),a(a.G+a.W+a.F*!B,{Symbol:C});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)f(Z[tt++]);for(var et=_(f.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return o(W,t+="")?W[t]:W[t]=C(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){F=!0},useSimple:function(){F=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,e){return void 0===e?S(t):q(S(t),e)},defineProperty:K,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:X}),x&&a(a.S+a.F*(!B||u(function(){var t=C();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(b(e)||void 0!==t)&&!G(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,R.apply(x,i)}}),C.prototype[I]||n(16)(C.prototype,I,C.prototype.valueOf),d(C,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){var i=n(22)("meta"),o=n(13),r=n(17),a=n(18).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(15)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return u&&d.NEED&&c(t)&&!r(t,i)&&l(t),t}}},function(t,e,n){var i=n(27),o=n(43),r=n(37);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var a,s=n(t),c=r.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var i=n(20),o=n(75).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(i(t))}},function(t,e,n){var i=n(37),o=n(30),r=n(20),a=n(40),s=n(17),c=n(48),u=Object.getOwnPropertyDescriptor;e.f=n(14)?u:function(t,e){if(t=r(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){n(61)("asyncIterator")},function(t,e,n){n(61)("observable")},function(t,e,n){n(76),n(66),n(122),n(125),n(133),n(134),t.exports=n(8).Promise},function(t,e,n){for(var i=n(123),o=n(27),r=n(23),a=n(9),s=n(16),c=n(47),u=n(11),l=u("iterator"),d=u("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(f),g=0;g<p.length;g++){var v,m=p[g],y=f[m],b=a[m],w=b&&b.prototype;if(w&&(w[l]||s(w,l,h),w[d]||s(w,d,m),c[m]=h,y))for(v in i)w[v]||r(w,v,i[v],!0)}},function(t,e,n){"use strict";var i=n(51),o=n(124),r=n(47),a=n(20);t.exports=n(67)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i,o,r,a,s=n(31),c=n(9),u=n(24),l=n(58),d=n(12),h=n(13),f=n(36),p=n(126),g=n(127),v=n(77),m=n(78).set,y=n(129)(),b=n(62),w=n(79),k=n(130),O=n(80),S=c.TypeError,E=c.process,A=E&&E.versions,j=A&&A.v8||"",_=c.Promise,T="process"==l(E),P=function(){},D=o=b.f,C=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(11)("species")]=function(t){t(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==j.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),x=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,o=1==t._s,r=0,a=function(e){var n,r,a,s=o?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(o||(2==t._h&&M(t),t._h=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),a=!0)),n===e.promise?u(S("Promise-chain cycle")):(r=x(n))?r.call(n,c,u):c(n)):u(i)}catch(t){l&&!a&&l.exit(),u(t)}};n.length>r;)a(n[r++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){m.call(c,function(){var e,n,i,o=t._v,r=I(t);if(r&&(e=w(function(){T?E.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=T||I(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){m.call(c,function(){var e;T?E.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},W=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=x(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,u(N,i,1),u(W,i,1))}catch(t){W.call(i,t)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){W.call({_w:n,_d:!1},t)}}};C||(_=function(t){p(this,_,"Promise","_h"),f(t),i.call(this);try{t(u(N,this,1),u(W,this,1))}catch(t){W.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(131)(_.prototype,{then:function(t,e){var n=D(v(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=u(N,t,1),this.reject=u(W,t,1)},b.f=D=function(t){return t===_||t===a?new r(t):o(t)}),d(d.G+d.W+d.F*!C,{Promise:_}),n(52)(_,"Promise"),n(132)("Promise"),a=n(8).Promise,d(d.S+d.F*!C,"Promise",{reject:function(t){var e=D(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!C),"Promise",{resolve:function(t){return O(s&&this===a?_:this,t)}}),d(d.S+d.F*!(C&&n(73)(function(t){_.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=D(e),i=n.resolve,o=n.reject,r=w(function(){var n=[],r=0,a=1;g(t,!1,function(t){var s=r++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||i(n))},o)}),--a||i(n)});return r.e&&o(r.v),n.promise},race:function(t){var e=this,n=D(e),i=n.reject,o=w(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(24),o=n(70),r=n(71),a=n(19),s=n(26),c=n(72),u={},l={};(e=t.exports=function(t,e,n,d,h){var f,p,g,v,m=h?function(){return t}:c(t),y=i(n,d,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(f=s(t.length);f>b;b++)if((v=e?y(a(p=t[b])[0],p[1]):y(t[b]))===u||v===l)return v}else for(g=m.call(t);!(p=g.next()).done;)if((v=o(g,y,p.value,e))===u||v===l)return v}).BREAK=u,e.RETURN=l},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(9),o=n(78).set,r=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,c="process"==n(25)(a);t.exports=function(){var t,e,n,u=function(){var i,o;for(c&&(i=a.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){a.nextTick(u)};else if(!r||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(i,u)};else{var d=!0,h=document.createTextNode("");new r(u).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var i=n(9).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(23);t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},function(t,e,n){"use strict";var i=n(9),o=n(18),r=n(14),a=n(11)("species");t.exports=function(t){var e=i[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(12),o=n(8),r=n(9),a=n(77),s=n(80);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,o.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(12),o=n(62),r=n(79);i(i.S,"Promise",{try:function(t){var e=o.f(this),n=r(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},,,,,function(t,e,n){"use strict";n.r(e);n(85);var i=n(46),o=n(2),r=n(83),a=n(45),s=n(5),c=n(21),u=n(0),l=n(1),d=Object(u.freeze)(Object(o.extend)(l.c,{padding:"powa-bar-padding",powaBar:"powa-bar",powaBarHide:"powa-bar-hide",play:"powa-bar-play",pause:"powa-bar-pause",playPause:"powa-bar-play-pause",skipControls:"powa-bar-prev-next",skipControlsHidden:"powa-bar-prev-next-hidden",prev:"powa-bar-prev",next:"powa-bar-next",back:"powa-bar-back",skip:"powa-bar-skip",timeAndScrubbers:"powa-bar-time-and-scrubbers",timeAndScrubbersHidden:"powa-bar-time-and-scrubbers-hidden",scrubbers:"powa-bar-scrubbers",scrubber:"powa-bar-scrubber",scrubberTime:"powa-bar-scrubber-time",scrubberProgress:"powa-bar-scrubber-progress",audio:"powa-bar-audio",audioIcon:"powa-bar-audio-icon",mute:"powa-bar-mute",unmute:"powa-bar-unmute",time:"powa-bar-time",duration:"powa-bar-duration",volumeLevel:"powa-bar-volume-level",volumeScrubber:"powa-bar-volume-scrubber",subtitles:"powa-bar-subtitles",subtitlesControls:"powa-bar-subtitles-controls",subtitlesTracks:"powa-bar-subtitles-tracks",subtitlesTrack:"powa-bar-subtitles-track",subtitlesTrackShowing:"powa-bar-subtitles-track-showing",subtitlesCustomize:"powa-bar-subtitles-customize",subtitlesIcon:"powa-bar-subtitles-icon",subtitlesEnabled:"powa-bar-subtitles-enabled",compress:"powa-bar-compress",expand:"powa-bar-expand",fullscreen:"powa-bar-fullscreen",audioClick:"".concat(l.c.powaClick,"-audio-click"),fullscreenClick:"".concat(l.c.powaClick,"-fullscreen-click"),scrubberClick:"".concat(l.c.powaClick,"-scrubber-click"),subtitlesClick:"".concat(l.c.powaClick,"-subtitles-click"),subtitlesCustomizeClick:"".concat(l.c.powaClick,"-subtitles-customize-click"),subtitlesTouch:"".concat(l.c.powaTouch,"-subtitles-touch"),playPauseClick:"".concat(l.c.powaClick,"-play-pause-click"),prevClick:"".concat(l.c.powaClick,"-prev-click"),nextClick:"".concat(l.c.powaClick,"-next-click"),backClick:"".concat(l.c.powaClick,"-back-click"),skipClick:"".concat(l.c.powaClick,"-skip-click"),volumeClick:"".concat(l.c.powaClick,"-volume-click")})),h=Object(u.freeze)(Object(o.mapObj)(d,function(t){return".".concat(t)})),f=function(){return'<div class="'.concat(d.powaBar," ").concat(d.powaBarHide,'"></div>')};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w="PoWaBar",k={hideTime:.5,slideTime:.2,style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t".concat(h.padding," {\n\t\twidth: 3px;\n\t}\n\n\t").concat(h.powaBar," {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\n\t\twidth: 100%;\n\t\theight: 25px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\tuser-select: none;\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.primary),";\n\n\t\tfont-size: 16px;\n\t\tfont-family: sans-serif;\n\t\ttext-shadow: 0 0 2px ").concat(Object(u.getColor)(t.colors.background,.75),";\n\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.background,.25),";\n\n\t\tz-index: 2;\n\t}\n\n\t").concat(h.powaBarHide," {\n\t\theight: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\n\t\ttransition: all ").concat(t.hideTime,"s;\n\t}\n\n\t").concat(h.playPause," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\n\t\tmin-width: 14px;\n\t\tmargin: 0 2px;\n\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.playPause,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.skipControls," {\n\t\tfont-size: 12px;\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.skipControls,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.skipControlsHidden," {\n\t\twidth: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\n\t").concat(h.time," {\n\t\tmargin: 0 2px;\n\t}\n\n\t").concat(h.duration," {\n\t\tmargin: 0 2px;\n\t}\n\n\t").concat(h.timeAndScrubbers," {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t}\n\n\t").concat(h.timeAndScrubbersHidden," {\n\t\tvisibility: hidden;\n\t}\n\n\t").concat(h.scrubbers," {\n\t\tpointer-events: none;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 12px;\n\t\tborder: 1px solid ").concat(Object(u.getColor)(t.colors.primary,.9),";\n\t\tborder-radius: 3px;\n\t\tmargin: 0 2px;\n\t\toverflow: hidden;\n\t}\n\n\t").concat(h.scrubber," {\n\t\tpointer-events: auto;\n\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\t}\n\n\t").concat(h.scrubberProgress," {\n\t\tposition: absolute;\n\n\t\theight: 100%;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.accent,.2),";\n\n\t\ttransition: width 0.1s;\n\t}\n\n\t").concat(h.scrubberTime," {\n\t\tposition: absolute;\n\n\t\theight: 100%;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.accent,.9),";\n\n\t\ttransition: width 0.1s;\n\t}\n\n\t").concat(h.audio," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\n\t\tmargin: 0 2px;\n\n\t\twidth: 15px;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.audio,":hover {\n\t\twidth: 70px;\n\t}\n\n\t").concat(h.audioIcon," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\n\t\twidth: 15px;\n\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.audioIcon,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.volumeScrubber," {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\n\t\twidth: 0;\n\t\tmargin: 0;\n\t\topacity: 0;\n\t\theight: 12px;\n\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.audio,":hover ").concat(h.volumeScrubber," {\n\t\tborder: 1px solid ").concat(Object(u.getColor)(t.colors.primary,.9),";\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\t\tborder-radius: 3px;\n\n\t\topacity: 1;\n\t\twidth: 50px;\n\t\tmargin-right: 2px;\n\t}\n\n\t").concat(h.volumeLevel," {\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.accent,.9),";\n\n\t\ttransition: width ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitles," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\n\t\tmargin: 2px;\n\t\tmax-width: 100px;\n\t}\n\n\t").concat(h.subtitlesControls," {\n\t\tmax-width: 0;\n\t\tmargin-bottom: 1px;\n\t\topacity: 0;\n\t\theight: 14px;\n\t\toverflow: hidden;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\tfont-size: 14px;\n\t\ttext-shadow: 0 0 1px ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesControls," {\n\t\tborder: 1px solid ").concat(Object(u.getColor)(t.colors.primary,.9),";\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.primary,.5),";\n\t\tborder-radius: 3px;\n\n\t\tmax-width: 150px;\n\t\tmargin-right: 1px;\n\t\tpadding: 0 1px;\n\t\topacity: 1;\n\t}\n\n\t").concat(h.subtitlesTracks," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t").concat(h.subtitlesTrack," {\n\t\tmax-width: 0;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitlesTrack,":hover {\n\t\ttext-shadow: 0 0 2px ").concat(Object(u.getColor)(t.colors.primary,.75),";\n\t}\n\n\t").concat(h.subtitlesTrackShowing," {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesTrack," {\n\t\tmax-width: 18px;\n\t\tmargin: 0 1px;\n\t}\n\n\t").concat(h.subtitlesCustomize," {\n\t\tmax-width: 0;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitlesCustomize,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesCustomize," {\n\t\tmax-width: 14px;\n\t\tmargin: 0 1px;\n\t}\n\n\t").concat(h.subtitlesIcon," {\n\t\tmargin: 1px;\n\t}\n\n\t").concat(h.subtitlesEnabled," ").concat(h.subtitlesIcon," {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitlesIcon,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.fullscreen," {\n\t\tmargin: 0 2px;\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.fullscreen,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t<span class="'.concat(d.padding,'"></span>\n\t<div class="').concat(d.skipControls," ").concat(d.skipControlsHidden," ").concat(d.prev," ").concat(d.prevClick,'">\n\t\t').concat(Object(u.fontAwesomeIcon)("backward"),'\n\t</div>\n\t<div class="').concat(d.skipControls," ").concat(d.skipControlsHidden," ").concat(d.back," ").concat(d.backClick,'">\n\t\t').concat(Object(u.fontAwesomeIcon)("undo"),'\n\t</div>\n\t<div class="').concat(d.playPause," ").concat(d.playPauseClick,'">\n\t\t').concat(Object(u.fontAwesomeIcon)("play",d.play),"\n\t\t").concat(Object(u.fontAwesomeIcon)("pause",d.pause),'\n\t</div>\n\t<div class="').concat(d.skipControls," ").concat(d.skipControlsHidden," ").concat(d.skip," ").concat(d.skipClick,'">\n\t\t').concat(Object(u.fontAwesomeIcon)("repeat"),'\n\t</div>\n\t<div class="').concat(d.skipControls," ").concat(d.skipControlsHidden," ").concat(d.next," ").concat(d.nextClick,'">\n\t\t').concat(Object(u.fontAwesomeIcon)("forward"),'\n\t</div>\n\t<div class="').concat(d.timeAndScrubbers,'">\n\t\t<div class="').concat(d.time,'"></div>\n\t\t<div class="').concat(d.scrubbers,'">\n\t\t\t<div class="').concat(d.scrubber," ").concat(d.scrubberClick,'"></div>\n\t\t\t<div class="').concat(d.scrubberProgress,'"></div>\n\t\t\t<div class="').concat(d.scrubberTime,'"></div>\n\t\t</div>\n\t\t<div class="').concat(d.duration,'"></div>\n\t</div>\n\t').concat(t.client.isDesktop?'\n\t\t<div class="'.concat(d.audio,'">\n\t\t\t<div class="').concat(d.volumeScrubber," ").concat(d.volumeClick,'">\n\t\t\t\t<div class="').concat(d.volumeLevel,'"></div>\n\t\t\t</div>\n\t\t\t<div class="').concat(d.audioIcon," ").concat(d.audioClick,'">\n\t\t\t\t').concat(Object(u.fontAwesomeIcon)("volume-up",d.mute),"\n\t\t\t\t").concat(Object(u.fontAwesomeIcon)("volume-off",d.unmute),"\n\t\t\t</div>\n\t\t</div>\n\t"):"",'\n\t<div class="').concat(d.subtitles," ").concat(d.subtitlesTouch,'">\n\t\t<div class="').concat(d.subtitlesControls,'">\n\t\t\t<div class="').concat(d.subtitlesTracks,'"></div>\n\t\t\t<div class="').concat(d.subtitlesCustomize," ").concat(d.subtitlesCustomizeClick,'">\n\t\t\t\t').concat(Object(u.fontAwesomeIcon)("cog"),'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="').concat(d.subtitlesIcon," ").concat(d.subtitlesClick,'">\n\t\t\t').concat(Object(u.fontAwesomeIcon)("cc"),'\n\t\t</div>\n\t</div>\n\t<div class="').concat(d.fullscreen," ").concat(d.fullscreenClick,'">\n\t\t').concat(Object(u.fontAwesomeIcon)("expand",d.expand),"\n\t\t").concat(Object(u.fontAwesomeIcon)("compress",d.compress),'\n\t</div>\n\t<span class="').concat(d.padding,'"></span>\n')},back:-15,skip:15},O=function(t){function e(t){var n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(r=g(e).call(this,f()))||"object"!==p(r)&&"function"!=typeof r?v(i):r,Object(u.bindAll)(v(n)),Object(u.ensureFontAwesome)(),n.settings=Object(o.extend)(k,t,{client:PoWaSettings.client}),n.settings.$container=n.settings.powa.get$container(),n._setupUI(),n._setupHandlers(),n._resetUI(),n.hide();var a=Object(o.extend)({colors:Object(l.o)()},n.settings),s="function"==typeof n.settings.style?n.settings.style(a):n.settings.style;return Object(u.addCSS)(s,w),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,c["a"]),y(e,null,[{key:"EVENTS",get:function(){return l.b}}]),y(e,[{key:"_setupUI",value:function(){this.html(this.settings.template(this.settings)),this.events=Object(o.extend)(l.b,this.events),this.$timeAndScrubbers=this.find(h.timeAndScrubbers),this.$scrubber=this.find(h.scrubber),this.$scrubberTime=this.find(h.scrubberTime),this.$scrubberProgress=this.find(h.scrubberProgress),this.$play=this.find(h.play),this.$pause=this.find(h.pause),this.$prev=this.find(h.prev),this.$next=this.find(h.next),this.$back=this.find(h.back),this.$skip=this.find(h.skip),this.$mute=this.find(h.mute),this.$unmute=this.find(h.unmute),this.$volumeLevel=this.find(h.volumeLevel),this.$time=this.find(h.time),this.$duration=this.find(h.duration),this.$subtitles=this.find(h.subtitles),this.$tracks=this.find(h.subtitlesTracks),this.$compress=this.find(h.compress),this.$expand=this.find(h.expand),this.$fullscreen=this.find(h.fullscreen)}},{key:"_setupHandlers",value:function(){var t=this;Object(o.forEach)(l.n,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),Object(o.forEach)(this.events,function(e){t.on(e,function(n){t[e]&&t[e](n),t.settings.powaTrack.trigger(e,n.detail?n.detail:n)})})}},{key:"_resetUI",value:function(){this.shouldShow=!1;this.settings.powa.isFullscreen()?this.$expand&&this.$expand.hide():this.$compress&&this.$compress.hide(),this.$duration&&this.$duration.empty(),this.$unmute&&this.$unmute.hide(),this.$scrubberProgress&&this.$scrubberProgress.css({width:"0%"}),this.$scrubberTime&&this.$scrubberTime.css({width:"0%"}),this.$subtitles&&this.$subtitles.hide(),this.$time&&this.$time.empty()}},{key:"show",value:function(){this.shouldShow&&!this.controlsDisabled&&(this.removeClass(d.powaBarHide),this.trigger(this.events.show,{height:this.height(),width:this.width(),$powaBar:this}))}},{key:"hide",value:function(){this.addClass(d.powaBarHide),this.trigger(this.events.hide,{height:this.height(),width:this.width(),$powaBar:this})}},{key:"hideControls",value:function(){this.hide(),this.controlsDisabled=!0}},{key:"showControls",value:function(){this.controlsDisabled=!1,this.settings.$container.hasClass("powa-hover")&&this.show()}},{key:"audioClick",value:function(t){this.settings.powa.mute()}},{key:"fullscreenClick",value:function(){this.settings.powa.fullscreen()}},{key:"hover",value:function(t){var e=Object(u.get)(t,"detail.event");(t=e||t).hover?this.show():this.hide()}},{key:"tap",value:function(t){var e=Object(u.get)(t,"detail.event");(t=e||t).tap?this.show():this.hide()}},{key:"mouse",value:function(t){t.moving?this.show():!this.settings.$container.hasClass("powa-fullscreen")&&this.settings.$container.hasClass("powa-hover")||this.hide()}},{key:"playPauseClick",value:function(t){this.settings.powa.togglePlay()}},{key:"prevClick",value:function(t){this.settings.powa.prev&&this.settings.powa.prev()}},{key:"nextClick",value:function(t){this.settings.powa.next&&this.settings.powa.next()}},{key:"backClick",value:function(t){this.settings.powa.jump(this.settings.back)}},{key:"skipClick",value:function(t){this.settings.powa.jump(this.settings.skip)}},{key:"scrubberClick",value:function(t){var e=Object(u.get)(t,"detail.event");t=e||t,this.settings.powa.seekPosition(t.offsetX/t.currentTarget.offsetWidth)}},{key:"subtitlesClick",value:function(t){this.settings.powa.toggleSubtitles()}},{key:"volumeClick",value:function(t){var e=Object(u.get)(t,"detail.event");t=e||t,this.settings.powa.mute(!1),this.settings.powa.volume(t.offsetX/t.currentTarget.offsetWidth)}},{key:"adFirstFrame",value:function(t){this._resetUI()}},{key:"end",value:function(t){this._resetUI()}},{key:"fullscreen",value:function(t){t.fullscreen?(this.$expand&&this.$expand.hide(),this.$compress&&this.$compress.show()):(this.$compress&&this.$compress.hide(),this.$expand&&this.$expand.show())}},{key:"mediaStart",value:function(t){this.shouldShow=!0,this.settings.$container.hasClass("powa-hover")&&this.show(),this.volume(t),this.muted(t)}},{key:"muted",value:function(t){t.muted?(this.$mute.hide(),this.$unmute.show(),this.volume({volume:0})):(this.$mute.show(),this.$unmute.hide(),this.volume(t))}},{key:"pause",value:function(){this.$pause.hide(),this.$play.show()}},{key:"play",value:function(){this.$play.hide(),this.$pause.show()}},{key:"_showHidePrevNext",value:function(t){t.playlist.length>1?(this.$prev.removeClass(d.skipControlsHidden),this.$next.removeClass(d.skipControlsHidden)):(this.$prev.addClass(d.skipControlsHidden),this.$next.addClass(d.skipControlsHidden))}},{key:"playlist",value:function(t){this._showHidePrevNext(t)}},{key:"playlistLoaded",value:function(t){this._showHidePrevNext(t)}},{key:"progress",value:function(t){if(!isNaN(t.progress)&&this.$scrubberProgress){var e="".concat(100*t.progress,"%");this.$scrubberProgress.css({width:e})}}},{key:"promoShow",value:function(t){this.hide()}},{key:"start",value:function(t){"live"===Object(u.get)(t,"videoData.video_type")?(this.$timeAndScrubbers.addClass(d.timeAndScrubbersHidden),this.$back.removeClass(d.skipControlsHidden),this.$skip.removeClass(d.skipControlsHidden)):(this.$timeAndScrubbers.removeClass(d.timeAndScrubbersHidden),this.$back.addClass(d.skipControlsHidden),this.$skip.addClass(d.skipControlsHidden))}},{key:"_setTracks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$tracks&&(this.$tracks.empty(),Object(o.chain)(e).map(function(t){return Object(s.$)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n\t<div class="'.concat(d.subtitlesTrack).concat(e&&t.label===e?" ".concat(d.subtitlesTrackShowing):"",'" data-label="').concat(t.label,'">\n\t\t').concat(t.language,"\n\t</div>\n")}(t,n))}).forEach(this.$tracks.append).forEach(function(e){return e.on("click",function(n){e.hasClass(d.subtitlesTrackShowing)?t.settings.powa.hideSubtitles():t.settings.powa.showSubtitles(e.attr("data-label"))})}))}},{key:"subsAvailable",value:function(t){this.$subtitles&&(this.$subtitles.show(),this._setTracks(t.subtitles,t.subtitle))}},{key:"subsUnavailable",value:function(t){this.$subtitles&&(this.$subtitles.hide(),this._setTracks())}},{key:"subsEnabled",value:function(t){this.$subtitles&&(this.$subtitles.addClass(d.subtitlesEnabled),this._setTracks(t.subtitles,t.subtitle))}},{key:"subsDisabled",value:function(t){this.$subtitles&&(this.$subtitles.removeClass(d.subtitlesEnabled),this._setTracks(t.subtitles))}},{key:"time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!isNaN(t.time)&&!isNaN(t.duration)&&t.duration){var e="".concat(t.time/t.duration*100,"%");this.$scrubberTime&&this.$scrubberTime.css({width:e}),this.$time&&this.$time.html(Object(u.formatTime)(t.time)),this.$duration&&this.$duration.html(Object(u.formatTime)(t.duration))}}},{key:"volume",value:function(t){var e="".concat(100*t.volume,"%");this.$volumeLevel.css({width:e})}}]),e}(),S=n(81);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D="PoWaSellAdBar",C={powaSellAdBar:"powa-sell-bar",hidden:"powa-sell-bar-hidden",controls:"powa-sell-bar-controls",control:"powa-sell-bar-control",playPause:"powa-sell-bar-play-pause",play:"powa-sell-bar-play",pause:"powa-sell-bar-pause",muteUnmute:"powa-sell-bar-mute-unmute",mute:"powa-sell-bar-mute",unmute:"powa-sell-bar-unmute",countdown:"powa-sell-bar-countdown",skip:"powa-sell-bar-skip",skipContainer:"powa-sell-bar-skip-container",skipCountdown:"powa-sell-bar-skip-countdown",skipClick:"".concat(l.c.powaClick,"-skip-click"),playPauseClick:"".concat(l.c.powaClick,"-play-pause-click"),muteUnmuteClick:"".concat(l.c.powaClick,"-mute-unmute-click")},x=Object(u.freeze)(Object(o.mapObj)(C,function(t){return".".concat(t)})),R=Object(u.freeze)({playControl:!0,muteControl:!0,adCountdown:!0,skipControl:!0,skipOffset:15,skipThreshold:2,style:function(t){return"\n\t".concat(x.powaSellAdBar," {\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\n\t\twidth: 100%;\n\t\theight: 22px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\n\t\tpointer-events: auto;\n\t\tfont-family: Helvetica;\n\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.primary),";\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.background,.7),";\n\n\t\tz-index: 2;\n\t}\n\n\t").concat(x.controls," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(x.control," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\twidth: 20px;\n\t}\n\n\t").concat(x.control,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(x.countdown," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: normal;\n\t\tmargin: 0 3px 0 3px;\n\t\tpadding: 0;\n\t}\n\n\t").concat(x.skipContainer," {\n\t\tposition: absolute;\n\t\tright: 0px;\n\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\n\t\tpadding: 0 3px 0 3px;\n\t}\n\n\t").concat(x.skipCountdown," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(x.skip," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tcursor: pointer;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(x.skip,":hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t").concat(x.skip,":active {\n\t\tcolor: ").concat(Object(u.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(x.hidden," {\n\t\tdisplay: none;\n\t}\n")},template:function(t){return'\n\t\t<span class="'.concat(C.controls,'">\n\t\t\t<span class="').concat(C.control," ").concat(C.playPause," ").concat(C.playPauseClick,'">\n\t\t\t\t<span class="').concat(C.play,'" aria-label="Play">').concat(Object(u.fontAwesomeIcon)("play"),'</span>\n\t\t\t\t<span class="').concat(C.pause,'" aria-label="Pause">').concat(Object(u.fontAwesomeIcon)("pause"),'</span>\n\t\t\t</span>\n\t\t\t<span class="').concat(C.control," ").concat(C.muteUnmute," ").concat(C.muteUnmuteClick,'">\n\t\t\t\t<span class="').concat(C.mute,'" aria-label="Mute">').concat(Object(u.fontAwesomeIcon)("volume-up"),'</span>\n\t\t\t\t<span class="').concat(C.unmute,'" aria-label="Unmute">').concat(Object(u.fontAwesomeIcon)("volume-off"),'</span>\n\t\t\t</span>\n\t\t</span>\n\t\t<span class="').concat(C.countdown," ").concat(C.hidden,'"></span>\n\t\t<span class="').concat(C.skipContainer,'">\n\t\t\t<span class="').concat(C.skipCountdown," ").concat(C.hidden,'"></span>\n\t\t\t<span class="').concat(C.skip," ").concat(C.skipClick," ").concat(C.hidden,'">').concat(t.adSkipText,"</span>\n\t\t</span>\n\t")},adSkipText:"Skip",adCountdownTemplate:function(t){return"This ad will end in ".concat(Math.ceil(t.adRemaining)," seconds")},adSkipCountdownTemplate:function(t){return"You can skip this ad in ".concat(Math.ceil(t.skipOffset-(t.adDuration-t.adRemaining))," seconds")},checkSizing:function(t){var e=t.$controls,n=t.$countdown,i=t.$skipContainer,o=t.$skipCountdown,r=e.position().left+e.width(),a=n.position().left+n.width(),s=i.position().left;a>s&&n.addClass(C.hidden),r>s&&o.addClass(C.hidden)},shrinkAd:function(t,e){var n=t.height*(e.width/e.height)/2;return{top:t.height,bottom:0,left:n,right:n,height:t.height?e.height-t.height:"100%",width:n?e.width-2*n:"100%"}},shrinkAdCSS:function(t){return{top:"".concat(t.top,"px"),left:"".concat(t.left,"px"),width:"".concat(t.width).concat(isNaN(t.width)?"":"px"),height:"".concat(t.height).concat(isNaN(t.height)?"":"px")}}}),L=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=A(e).call(this,'<div class="'.concat(C.powaSellAdBar,'"></div>')),t=!i||"object"!==E(i)&&"function"!=typeof i?j(n):i,Object(u.bindAll)(j(t)),Object(u.ensureFontAwesome)(),t.settings=Object(o.extend)(R,r);var a=Object(o.extend)({colors:Object(l.o)()},t.settings),s="function"==typeof t.settings.style?t.settings.style(a):t.settings.style;return Object(u.addCSS)(s,D),t.html(t.settings.template(t.settings)),t.addClass(C.hidden),t.$controls=t.find(x.controls),t.$play=t.find(x.play),t.$pause=t.find(x.pause),t.$mute=t.find(x.mute),t.$unmute=t.find(x.unmute),t.$countdown=t.find(x.countdown),t.$skipContainer=t.find(x.skipContainer),t.$skipCountdown=t.find(x.skipCountdown),t.$skip=t.find(x.skip),t.muted=!1,t.paused=!1,t._updateControls(),t.settings.powaTrack.extend(t.extendResize),t._shrinkAd=Object(u.get)(j(t),"settings.shrinkAd")&&"function"==typeof t.settings.shrinkAd?t.settings.shrinkAd:u.noop,t._shrinkAdCSS=Object(u.get)(j(t),"settings.shrinkAdCSS")&&"function"==typeof t.settings.shrinkAdCSS?t.settings.shrinkAdCSS:u.noop,Object(o.forEach)(t.events,function(e){t[e]&&t.on(e,function(n){return t[e](n)})}),Object(o.forEach)(l.n,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,c["a"]),T(e,null,[{key:"MODULE",get:function(){return D}},{key:"EVENTS",get:function(){return l.h}},{key:"DEFAULTS",get:function(){return R}}]),T(e,[{key:"_updateControls",value:function(){this.paused?(this.$play.removeClass(C.hidden),this.$pause.addClass(C.hidden)):(this.$play.addClass(C.hidden),this.$pause.removeClass(C.hidden)),this.muted?(this.$mute.addClass(C.hidden),this.$unmute.removeClass(C.hidden)):(this.$mute.removeClass(C.hidden),this.$unmute.addClass(C.hidden))}},{key:"_checkSizing",value:function(){this.settings.checkSizing&&this.settings.checkSizing({$adBar:this,$controls:this.$controls,$play:this.$play,$pause:this.$pause,$mute:this.$mute,$unmute:this.$unmute,$countdown:this.$countdown,$skipContainer:this.$skipContainer,$skipCountdown:this.$skipCountdown,$skip:this.$skip})}},{key:"_getShrinkBy",value:function(){var t={height:this.height(),width:this.width()},e={height:this.settings.$container.height(),width:this.settings.$container.width()};return this._shrinkAd(t,e)}},{key:"_getShrinkAdCSS",value:function(t){return this._shrinkAdCSS(t)}},{key:"extendResize",value:function(t){if(t.type!==l.n.RESIZE)return t;var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);return Object(o.extend)(t,{shrinkBy:e,shrinkCSS:n})}return t}},{key:"playPauseClick",value:function(t){this.paused?this.settings.powaTrack.trigger(l.h.AD_BAR_PLAY):this.settings.powaTrack.trigger(l.h.AD_BAR_PAUSE)}},{key:"muteUnmuteClick",value:function(){this.settings.powaTrack.trigger(l.h.AD_BAR_MUTE,{muted:!this.muted})}},{key:"skipClick",value:function(){this.settings.powaTrack.trigger(l.h.AD_BAR_SKIP)}},{key:"adBarEnableSkip",value:function(){this.settings.skipControl=!0}},{key:"adBarDisableSkip",value:function(){this.settings.skipControl=!1,this.$skipCountdown.addClass(C.hidden),this.$skip.addClass(C.hidden)}},{key:"adBarShowSkip",value:function(){this.$skipCountdown.addClass(C.hidden),this.$skip.removeClass(C.hidden)}},{key:"adStart",value:function(t){t=t.detail?t.detail:t,this.removeClass(C.hidden),this.paused=!1,this.muted=t.muted,this.$skip.addClass(C.hidden),this._updateControls();var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);this.settings.powaTrack.trigger(l.h.AD_BAR_SHOW,{shrinkBy:e,shrinkCSS:n})}else this.settings.powaTrack.trigger(l.h.AD_BAR_SHOW)}},{key:"adTime",value:function(t){t=t.detail?t.detail:t;var e=Object(o.extend)(Object(o.pick)(this.settings,["skipOffset","skipThreshold"]),t),n=e.skipOffset+e.skipThreshold;this.settings.adCountdown&&(this.$countdown.html(this.settings.adCountdownTemplate(e)),this.$countdown.removeClass(C.hidden)),this.settings.skipControl&&e.adDuration>n&&(e.adDuration-e.adRemaining>e.skipOffset?this.adBarShowSkip():(this.$skipCountdown.html(this.settings.adSkipCountdownTemplate(e)),this.$skipCountdown.removeClass(C.hidden))),this._checkSizing()}},{key:"adPause",value:function(t){this.paused=!0,this._updateControls()}},{key:"adPlay",value:function(t){this.paused=!1,this._updateControls()}},{key:"adEnd",value:function(t){this.addClass(C.hidden);var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);this.settings.powaTrack.trigger(l.h.AD_BAR_HIDE,{shrinkBy:e,shrinkCSS:n})}else this.settings.powaTrack.trigger(l.h.AD_BAR_HIDE)}},{key:"adMute",value:function(t){t=t.detail?t.detail:t,this.muted=!!t.muted,this._updateControls()}},{key:"resize",value:function(t){this._checkSizing()}},{key:"promoShow",value:function(t){this.adEnd(t)}},{key:"loaded",value:function(t){this.adEnd(t)}}]),e}(),I=n(82);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function B(t,e,n){return e&&U(t.prototype,e),n&&U(t,n),t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F={},V={ready:function(){console.debug("[".concat("PoWaSell","] ready"))},setupError:console.error},z={width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",background:"black"},G={position:"absolute",height:"100%",width:"100%",left:"0px",top:"0px"};var K=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=$(e).call(this,'<div class="powa-sell"></div>'),t=!i||"object"!==M(i)&&"function"!=typeof i?W(n):i,Object(u.bindAll)(W(t)),t.css(z),t.hide(),Object.assign(F,a),t.settings=Object(o.extend)(V,r),t._setupPoWaSell(),Object(o.forEach)(l.h,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),t.$adContainer=Object(s.$)(function(t){return'<div id="powa-sell-ad-container-'.concat(t.id,'"></div>')}(t.settings)),t.$adContainer.css(G),t.append(t.$adContainer),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,s["PoWaPack"]),B(e,null,[{key:"MODULE",get:function(){return"PoWaSell"}},{key:"EVENTS",get:function(){return l.i}},{key:"STATES",get:function(){return F}}]),B(e,[{key:"_setupPoWaSell",value:function(){if(this.settings.$container)this.settings.$container.append(this);else{if(!this.settings.id)throw{error:"missing container",message:"Element ID of container or PoWaPack wrapped container element required"};this.settings.id=this.settings.id.replace(/(^#)/,""),Object(s.$)("#".concat(this.settings.id)).append(this)}}},{key:"destroy",value:function(){this.detach(),this.trigger(l.i.AD_DESTROYED,{type:l.i.AD_DESTROYED}),N($(e.prototype),"destroy",this).call(this)}},{key:"adBarMute",value:function(t){this.isRunning()&&(this.mute(),this.settings.$player.mute())}},{key:"adBarPause",value:function(t){this.isRunning()&&this.pause()}},{key:"adBarPlay",value:function(t){this.isRunning()&&this.play()}},{key:"adBarSkip",value:function(t){this.isRunning()&&this.skip()}},{key:"adBarShow",value:function(t){this.$adContainer.css(t.shrinkCSS),this.resize({fullscreen:this.settings.powa.isFullscreen(),height:t.shrinkBy.height,width:t.shrinkBy.width})}},{key:"adBarHide",value:function(t){this.$adContainer.css(t.shrinkCSS),this.resize({fullscreen:this.settings.powa.isFullscreen(),height:t.shrinkBy.height,width:t.shrinkBy.width})}}]),e}();function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t,e,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e,n){return e&&X(t.prototype,e),n&&X(t,n),t}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var et={AD_LOADED:"adLoaded",AD_PAUSED:"adPaused",AD_PLAYING:"adPlaying",AD_REQUESTED:"adRequested",AD_START_REQUESTED:"adStartRequested",AD_BLOCKED:"adBlocked",AD_CLICKED:"adClicked",AD_ENDED:"adEnded",AD_ERROR:"adError",AD_IDLE:"adIdle",AD_SKIPPED:"adSkipped",AD_TIMEOUT:"adTimeout"},nt="https://imasdk.googleapis.com/js/sdkloader/ima3.js",it={debug:!1,adCompanions:{width:300,height:200,selectionCriteria:{creativeType:"All",resourceType:"All",sizeCriteria:"IgnoreSize"}},locale:"",adEndWait:l.a/4,allowAdTimeout:!0,timeouts:{standard:{vastLoad:5,videoLoad:8,adStart:5},preload:{vastLoad:10,videoLoad:10,adStart:5}},vpaidMode:"enabled",ready:function(){console.debug("[".concat("PoWaSellGoogima","] ready"))},setupError:console.error},ot=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=J(e).call(this,Object(o.extend)(it,r),et),t=!i||"object"!==q(i)&&"function"!=typeof i?Y(n):i,Object(u.bindAll)(Y(t)),t.clearStatus(),new Promise(function(t,e){Object(u.isObject)(Object(u.get)(window,"google.ima"))?t():Object(u.loadScript)(nt,t,e)}).then(function(){t._setupPoWaSellGoogima(r),t._setupIMA(),r.ready(Y(t))}).catch(function(e){t.state=et.AD_BLOCKED,r.setupError({error:e,message:"Probable ad blocker"},Y(t))}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(e,K),Z(e,null,[{key:"MODULE",get:function(){return"PoWaSellGoogima"}}]),Z(e,[{key:"_setupPoWaSellGoogima",value:function(t){if(!this.settings.$player)throw this.state=et.AD_ERROR,{error:"missing player",message:"Video player element required"};this.$player=this.settings.$player,this.customClickDiv=t.customClickDiv}},{key:"_setupIMA",value:function(){var t=Object(u.get)(this,"settings.vpaidMode","");t=t.toUpperCase(),null!=(t=google.ima.ImaSdkSettings.VpaidMode[t])&&google.ima.settings.setVpaidMode(t),this.settings.locale&&google.ima.settings.setLocale(this.settings.locale),Object(u.has)(this.settings,"maxWrappers")&&google.ima.settings.setNumRedirects(this.settings.maxWrappers),PoWaSettings.client.isIOS&&PoWaSettings.client.version>=10&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.$adContainer.elements[0],this.$player.elements[0],this.customClickDiv),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsManager=null,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this)}},{key:"_onAdsManagerLoaded",value:function(t){var e=new google.ima.AdsRenderingSettings;e.loadVideoTimeout=this.timeouts.videoLoad,e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.adsManager=t.getAdsManager(this.$player.elements[0],e),this._processAdsManager()}},{key:"_processAdsManager",value:function(){var t=this;this.adsManager.isCustomClickTrackingUsed()&&(this.customClickDiv.style.display="table"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,!1,this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,!1,this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this),Object(o.forEach)(google.ima.AdEvent.Type,function(e){return t.adsManager.addEventListener(e,t._eventHandler,!1,t)}),this.adReady=!0,this.trigger(l.i.AD_READY,{type:l.i.AD_READY,adMeta:this.adMeta})}},{key:"_eventHandler",value:function(t){var e=t.getAd();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(t.type),e),this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](e,t)}},{key:"_allAdsCompletedHandler",value:function(t){}},{key:"_clickHandler",value:function(t){this.state=et.AD_CLICKED;var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(l.i.AD_CLICK,{type:l.i.AD_CLICK,adMeta:this.adMeta,event:e})}},{key:"_completeHandler",value:function(t){this.state=et.AD_ENDED,this.trigger(l.i.AD_COMPLETE,{type:l.i.AD_COMPLETE,adMeta:this.adMeta})}},{key:"_durationChangeHandler",value:function(t){var e=this.timing.duration;this.timing.duration=t.getDuration(),this.trigger(l.i.AD_DURATION_CHANGE,{type:l.i.AD_DURATION_CHANGE,oldDuration:e,duration:this.timing.duration})}},{key:"_errorHandler",value:function(t){if(!this.adEnded){this.state=et.AD_ERROR,this.$player.pause();var e={error:t.getError().toString(),event:t,type:l.i.AD_ERROR,adMeta:this.adMeta};this.trigger(l.i.AD_ERROR,e),this._onContentResumeRequested()}}},{key:"_impressionHandler",value:function(t,e){this.trigger(l.i.AD_IMPRESSION,{type:l.i.AD_IMPRESSION,adMeta:this.adMeta})}},{key:"_loadedHandler",value:function(t,e){var n=this.$player.getStatus();n.muted?this.adsManager.setVolume(0):this.adsManager.setVolume(n.volume),this.state=et.AD_LOADED,this.adMeta=e.getAdData()||{},this.timing={duration:t.getDuration(),firstFrame:!0,lastRemaining:null,remaining:this.adsManager.getRemainingTime()},this.trigger(l.i.AD_LOADED,{type:l.i.AD_LOADED,adMeta:this.adMeta}),t.isLinear()||this._onContentResumeRequested("adNotLinear")}},{key:"_logHandler",value:function(t,e){var n=e.getAdData();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(l.i.LOG),n),n.adError&&(e.getError=function(){return n.adError},this._errorHandler(e))}},{key:"_muteHandler",value:function(){}},{key:"_pauseHandler",value:function(t){this.state=this.state===et.AD_CLICKED?et.AD_CLICKED:et.AD_PAUSED,this.trigger(l.i.AD_PAUSE,{type:l.i.AD_PAUSE,adMeta:this.adMeta})}},{key:"_resumeHandler",value:function(t){this.state=et.AD_PLAYING,this.trigger(l.i.AD_PLAY,{type:l.i.AD_PLAY,adMeta:this.adMeta})}},{key:"_skipHandler",value:function(t){this.state=et.AD_SKIPPED;var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(l.i.AD_SKIP,{adMeta:this.adMeta,type:l.i.AD_SKIP,event:e})}},{key:"_startHandler",value:function(t){this.state=et.AD_PLAYING,Object.assign(this.adMeta,{muted:this.isMuted()}),window.clearTimeout(this.adStartTO),this.trigger(l.i.AD_START,{type:l.i.AD_START,adMeta:this.adMeta}),this.trigger(l.i.AD_PLAY,{type:l.i.AD_PLAY,adMeta:this.adMeta}),this._timeCheck(),this._adCompanionCheck(t)}},{key:"_volumeChangeHandler",value:function(t){var e=this.isMuted();this.trigger(l.i.AD_MUTE,{type:l.i.AD_MUTE,muted:e})}},{key:"_adEnded",value:function(t){this.adEnded||(clearTimeout(this.adEndTO),this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(l.i.AD_END),{status:t}),this.adEnded=!0,this.trigger(l.i.AD_END,{adMeta:this.adMeta,status:t}))}},{key:"_timeCheck",value:function(){this.timing.lastRemaining=this.timing.remaining,this.timing.remaining=Object(u.toFixed)(this.adsManager.getRemainingTime()),this.timing.elapsed=this.timing.duration-this.timing.remaining,this.timing.elapsed=Object(u.toFixed)(this.timing.elapsed);var t=Object(u.toFixed)(this.timing.remaining%1)*l.a;t=t>100?t:100,this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(l.i.AD_FIRST_FRAME,{adMeta:this.adMeta,type:l.i.AD_FIRST_FRAME})),this.trigger(l.i.AD_TIME,{adDuration:this.timing.duration,duration:this.timing.duration,elapsed:this.timing.elapsed,adRemaining:this.timing.remaining,remaining:this.timing.remaining,type:l.i.AD_TIME})),this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,t))}},{key:"_adCompanionCheck",value:function(t){var e=new google.ima.CompanionAdSelectionSettings;Object(o.forEach)(this.settings.adCompanions.selectionCriteria,function(t,n){return e[n]=t});var n=t.getCompanionAds(this.settings.adCompanions.width,this.settings.adCompanions.height,e);n&&n.length&&(n=Object(o.map)(n,function(t){return{type:t.getContentType(),width:t.getWidth(),height:t.getHeight(),content:t.getContent()}}),this.trigger(l.i.AD_COMPANIONS,{type:l.i.AD_COMPANIONS,adCompanions:n}))}},{key:"_onContentPauseRequested",value:function(){this.trigger(l.i.AD_CONTENT_PAUSE_REQUESTED,{adMeta:this.adMeta})}},{key:"_onContentResumeRequested",value:function(){if(window.clearTimeout(this.adStartTO),!this.adEnded){this.hide();var t=this.state===et.AD_CLICKED?l.i.AD_CLICK:this.state===et.AD_SKIPPED?l.i.AD_SKIP:this.state===et.AD_ENDED?l.i.AD_COMPLETE:this.state===et.AD_TIMEOUT?l.i.AD_START_TIMEOUT:l.i.AD_ERROR;this.trigger(l.i.AD_CONTENT_RESUME_REQUESTED,{adMeta:this.adMeta,status:t}),this._adEnded(t)}}},{key:"destroy",value:function(){this.mute(!0),this.adsManager&&this.adsManager.destroy(),this.adsLoader=null,this.adsManager=null,this.adDisplayContainer=null,clearTimeout(this.adEndTO),clearTimeout(this.adStartTO),clearTimeout(this.timing._timeCheckTO),Q(J(e.prototype),"destroy",this).call(this)}},{key:"_getTimeouts",value:function(t,e){var n=t?this.settings.timeouts.preload:this.settings.timeouts.standard;return Object(o.chain)(n).mapObj(function(t){return"function"==typeof t?t(e):t}).mapObj(function(t){return t*l.a}).value()}},{key:"requestAd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][requestAd] ").concat(t)),this.state=et.AD_REQUESTED,this.adTagURL=t,this.preload=e,this.adEnded=!1;var i=this.$player.width(),o=this.$player.height();this.timeouts=this._getTimeouts(e,n);var r=new google.ima.AdsRequest;r.adTagUrl=t,r.linearAdSlotWidth=i,r.linearAdSlotHeight=o,r.nonLinearAdSlotWidth=i,r.nonLinearAdSlotHeight=o,r.vastLoadTimeout=this.timeouts.vastLoad,this.$player.getStatus().muted&&r.setAdWillPlayMuted(!0),this.settings.autoplay&&(this.settings.autoplay=!1,r.setAdWillAutoPlay(!0)),this.adsLoader.requestAds(r),this.trigger(l.i.AD_REQUEST,{adTagURL:t,adMeta:this.adMeta,type:l.i.AD_REQUEST})}},{key:"startAd",value:function(){var t=this;this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][startAd]")),this.state=et.AD_START_REQUESTED,this.show(),this.settings.allowAdTimeout?this.adStartTO=window.setTimeout(function(){t.trigger(l.i.AD_START_TIMEOUT,{adMeta:t.adMeta,type:l.i.AD_START_TIMEOUT}),t.state=et.AD_TIMEOUT,t.adsManager?t.skip():t._onContentResumeRequested()},this.timeouts.adStart):this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][startAd] not allowing ad timeout"));var e=this.$player.width(),n=this.$player.height();this.adsManager.init(e,n,this.settings.powa.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),this.adsManager.start(),this.trigger(l.i.AD_START_REQUEST,{type:l.i.AD_START_REQUEST,adMeta:this.adMeta,adsManager:this.adsManager,adContainer:this.$adContainer.elements[0],viewMode:this.settings.powa.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL}),this.adReady=null}},{key:"initialUserAction",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][initialUserAction]")),this.adDisplayContainer.initialize()}},{key:"contentEnded",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][contentEnded]")),this.adsLoader.contentComplete()}},{key:"pause",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][pause]")),this.adsManager&&this.adsManager.pause()}},{key:"play",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][play]")),this.adsManager&&this.adsManager.resume()}},{key:"skip",value:function(){var t=this;if(this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][skip]")),this.adsManager){var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.state=this.state===et.AD_CLICKED?et.AD_CLICKED:this.state===et.AD_TIMEOUT?et.AD_TIMEOUT:et.AD_SKIPPED,this.state!==et.AD_TIMEOUT&&this.trigger(l.i.AD_SKIP,{adMeta:this.adMeta,type:l.i.AD_SKIP,event:e}),this.adsManager.stop(),this.adEndTO&&clearTimeout(this.adEndTO),this.adEndTO=window.setTimeout(function(){return t._adEnded(t.state)},this.settings.adEndWait)}}},{key:"isRunning",value:function(){var t=[et.AD_LOADED,et.AD_PLAYING,et.AD_PAUSED,et.AD_START_REQUESTED];return this.preload||t.push(et.AD_REQUESTED),Object(u.get)(PoWaSettings,"advertising.adBar")&&t.push(et.AD_CLICKED),t.includes(this.state)}},{key:"isMuted",value:function(){return this.adsManager?!this.adsManager.getVolume():null}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isMuted();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][mute] ").concat(t)),this.adsManager&&this.adsManager.setVolume(t?0:this.$player.getStatus().volume)}},{key:"resize",value:function(t){if(this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][resize]"),t),this.adsManager){t.shrinkCSS&&this.$adContainer.css(t.shrinkCSS);var e=Object(u.get)(t,"shrinkBy.width",t.width),n=Object(u.get)(t,"shrinkBy.height",t.height);this.adsManager.resize(e,n,t.fullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}}},{key:"clearStatus",value:function(){var t=Object(u.get)(this,"timing._timeCheckTO",null);clearTimeout(t),this.adMeta={},this.adTagURL="",this.preload=!1,this.state=et.AD_IDLE,this.timing={_timeCheckTO:null,duration:null,firstFrame:null,lastRemaining:null,remaining:null}}},{key:"getStatus",value:function(){return{adMeta:this.adMeta,adPreload:this.preload,adReady:!!this.adReady,adTagURL:this.adTagURL,muted:this.isMuted(),running:this.isRunning(),state:this.state,timing:this.timing}}}]),e}();function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function st(t,e,n){return(st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lt(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),t}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht={adStartTimelimit:3},ft=new WeakMap,pt=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=ct(e).call(this,Object(o.extend)(ht,r)))||"object"!==rt(i)&&"function"!=typeof i?at(n):i,Object(u.bindAll)(at(t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,ot),lt(e,null,[{key:"MODULE",get:function(){return"PoWaSellGoogimaHacks"}}]),lt(e,[{key:"_loadedHandler",value:function(t,n){st(ct(e.prototype),"_loadedHandler",this).call(this,t,n);var i=ft.get(this);i.adStarted=!1;var o=Date.now();i.shadowTimer={lastTime:o,elapsed:0,start:o}}},{key:"_pauseHandler",value:function(t){var n=Date.now(),i=ft.get(this);i.shadowTimer.elapsed+=(n-i.shadowTimer.lastTime)/l.a,i.shadowTimer.elapsed=Object(u.toFixed)(i.shadowTimer.elapsed),i.shadowTimer.lastTime=n,this.timing.remaining=this.timing.duration-i.shadowTimer.elapsed,this.timing.remaining=Object(u.toFixed)(this.timing.remaining),st(ct(e.prototype),"_pauseHandler",this).call(this,t)}},{key:"_resumeHandler",value:function(t){ft.get(this).shadowTimer.lastTime=Date.now(),st(ct(e.prototype),"_resumeHandler",this).call(this,t)}},{key:"_timeCheck",value:function(){var t=Date.now(),e=ft.get(this);this.timing.lastRemaining=this.timing.remaining;var n=Object(u.toFixed)(this.adsManager.getRemainingTime(),3,-1);if(!e.adStarted){var i=(t-e.shadowTimer.start)/l.a;n>=0&&n!==this.timing.lastRemaining?e.adStarted=!0:i>this.settings.adStartTimelimit&&(e.adStarted=!0,this.trigger(l.i.AD_START_UNREPORTED,{type:l.i.AD_START_UNREPORTED,elapsed:i}))}if(n>this.timing.duration){var o=this.timing.duration;this.timing.duration=n+e.shadowTimer.elapsed,this.trigger(l.i.AD_DURATION_CHANGE,{type:l.i.AD_DURATION_CHANGE,oldDuration:o,duration:this.timing.duration})}e.adStarted&&this.state===ot.STATES.AD_PLAYING&&(e.shadowTimer.elapsed+=(t-e.shadowTimer.lastTime)/l.a,e.shadowTimer.elapsed=Object(u.toFixed)(e.shadowTimer.elapsed),e.shadowTimer.lastTime=t,this.timing.remaining=this.timing.duration-e.shadowTimer.elapsed,this.timing.remaining=Object(u.toFixed)(this.timing.remaining));var r=Object(u.toFixed)(this.timing.remaining%1)*l.a;r=r>100?r:100,e.adStarted?this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(l.i.AD_FIRST_FRAME,{adMeta:this.adMeta,type:l.i.AD_FIRST_FRAME})),this.trigger(l.i.AD_TIME,{adDuration:this.timing.duration,duration:this.timing.duration,elapsed:e.shadowTimer.elapsed,adRemaining:this.timing.remaining,remaining:this.timing.remaining,type:l.i.AD_TIME})):this.state===ot.STATES.AD_PLAYING&&(e.shadowTimer.lastTime=t),this.isRunning()&&this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,r))}},{key:"clearStatus",value:function(){st(ct(e.prototype),"clearStatus",this).call(this),ft.set(this,{adStarted:!1,remainingTimeUnchanged:0,shadowTimer:{lastTime:null,elapsed:null,start:null}})}},{key:"destroy",value:function(){clearTimeout(this.timing._timeCheckTO),st(ct(e.prototype),"destroy",this).call(this)}}]),e}(),gt=n(3),vt=n(10);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kt(t,e,n){return e&&wt(t.prototype,e),n&&wt(t,n),t}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var St={ready:u.noop,error:u.noop};function Et(t){return'<track src="'.concat(t.src||t.url||"",'" label="').concat(t.label||"English",'" srclang="').concat(t.srclang||"en",'" kind="').concat(t.kind||"captions",'"></track>').trim()}var At=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=yt(e).call(this,""))||"object"!==mt(i)&&"function"!=typeof i?bt(n):i,Object(u.bindAll)(bt(t)),t.settings=Object(o.extend)(St,r),t.load(t.createTracks()),t.elements.length?t.settings.ready(bt(t)):t.settings.error(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(e,s["PoWaPack"]),kt(e,null,[{key:"MODULE",get:function(){return"Crew"}}]),kt(e,[{key:"createTracks",value:function(){return Object(o.chain)(this.settings.tracks).filter(function(t){return"WEB_VTT"===t.format}).map(Et).value()}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(u.isObject)(this.settings.track)?t.push(Et(this.settings.track)):"string"==typeof this.settings.track&&t.push(Et({src:this.settings.track})),Object(o.forEach)(t,this.add)}}]),e}();function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ct(t,e,n){return e&&Dt(t.prototype,e),n&&Dt(t,n),t}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=0;var Lt={style:function(t){return"\n\t.powa-sub {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\twidth: 100%;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\tpointer-events: none;\n\t\ttransition: all 0.2s ease-out;\n\n\t\tline-height: 1.2em;\n\t}\n\n\t.powa-sub-torpedo {\n\t\tbackground: ".concat(t.background||Object(u.getColor)(t.colors.background,.25),";\n\t\tcolor: ").concat(t.color||Object(u.getColor)(t.colors.primary),";\n\t\tfont-family: ").concat(t["font-family"]||"sans-serif",";\n\t\tfont-size: ").concat(t["font-size"]||"inherit",";\n\t\ttext-shadow: ").concat(t["text-shadow"]||"none",";\n\n\t\tborder-radius: 3px;\n\t\tpadding: 3px;\n\t\tmargin: 5px;\n\t\ttext-align: center;\n\t}\n")},styleConfig:function(t){return{color:Object(u.getColor)(t.colors.primary),"background-color":Object(u.getColor)(t.colors.background,.25),"font-family":"sans-serif"}},bump:function(t){return".powa-sub {bottom: ".concat(t.height,"px}")}},It=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=Tt(e).call(this,'<div class="powa-sub"></div>'))||"object"!==jt(i)&&"function"!=typeof i?Pt(n):i,Object(u.bindAll)(Pt(t)),t.settings=Object(o.extend)(Lt,r),t.updateStyle(),t.video=t.settings.$player.elements[0],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,s["PoWaPack"]),Ct(e,null,[{key:"MODULE",get:function(){return"Periscope"}}]),Ct(e,[{key:"updateStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(o.extend)({colors:Object(l.o)()},this.settings),n="function"==typeof this.settings.style?this.settings.style(Object(o.extend)(e,t)):this.settings.style;Object(u.addCSS)(n,"Periscope")}},{key:"bump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.addCSS)(this.settings.bump(t),"".concat("Periscope","-bump"))}},{key:"unbump",value:function(){Object(u.addCSS)(null,"".concat("Periscope","-bump"))}},{key:"showing",value:function(){return this.label?this.label:null}},{key:"show",value:function(t){var e=this;this.hide(),this.label=t;var n=this.settings.$player.getStatus(),i=Object(u.getTextTracks)(this.video);Object(o.chain)(i).forEach(function(t){return t.mode="disabled"}).filter(function(e){return e.label===t}).forEach(function(t){t.mode="hidden",(t.cues?_t(t.cues):[]).filter(function(t){return t.startTime<n.time&&t.endTime>n.time}).forEach(function(t){return e._enter({target:t})}),t.powaProcessed||(t.powaProcessed=!0,t.addEventListener("cuechange",e._enCue))})}},{key:"hide",value:function(){this.label=null,this.find(".powa-sub-torpedo").detach()}},{key:"_enCue",value:function(t){var e=this,n=t.target,i=n.cues?_t(n.cues):[],o=this.settings.$player.getStatus();i.filter(function(t){return!t.powaProcessed}).forEach(function(t){t.powaProcessed=!0,t.startTime<o.time&&t.endTime>o.time&&e._enter({target:t}),t.addEventListener("enter",e._enter),t.addEventListener("exit",e._exit)})}},{key:"_enter",value:function(t){var e=t.target;e.track.label===this.label&&0===this.find('[data-powa-id="'.concat(e.powaID,'"]')).elements.length&&this.append(Object(s.$)(function(t){return t.powaID=t.powaID||++Rt,'<span class="powa-sub-torpedo" data-powa-id="'.concat(t.powaID,'">').concat(t.text.replace("\n","<br/>"),"</span>")}(e)))}},{key:"_exit",value:function(t){var e=t.target;this.find('[data-powa-id="'.concat(e.powaID,'"]')).detach()}}]),e}(),Mt="YellowSubmarine",Wt={small:{name:"Small",rule:"small"},medium:{name:"Medium",rule:"medium"},large:{name:"Large",rule:"large"},xLarge:{name:"X-Large",rule:"x-large"},xxLarge:{name:"XX-Large",rule:"xx-large"}},Nt={black:{name:"Black",rule:"0, 0, 0"},silver:{name:"Silver",rule:"192, 192, 192"},gray:{name:"Gray",rule:"128, 128, 128"},white:{name:"White",rule:"255, 255, 255"},maroon:{name:"Maroon",rule:"128, 0, 0"},red:{name:"Red",rule:"255, 0, 0"},purple:{name:"Purple",rule:"128, 0, 128"},fuchsia:{name:"Fuchsia",rule:"255, 0, 255"},green:{name:"Green",rule:"0, 128, 0"},lime:{name:"Lime",rule:"0, 255, 0"},olive:{name:"Olive",rule:"128, 128, 0"},yellow:{name:"Yellow",rule:"255, 255, 0"},navy:{name:"Navy",rule:"0, 0, 128"},blue:{name:"Blue",rule:"0, 0, 255"},teal:{name:"Teal",rule:"0, 128, 128"},aqua:{name:"Aqua",rule:"0, 255, 255"},orange:{name:"Orange",rule:"255, 165, 0"}},$t={solid:{name:"100%",rule:"1.0"},seventyFive:{name:"75%",rule:"0.75"},fifty:{name:"50%",rule:"0.5"},twentyFive:{name:"25%",rule:"0.25"},transparent:{name:"0%",rule:"0"}},Ut={monoSans:{name:"Mono Sans",rule:"'Andale Mono', 'Lucida Console', monospace"},monoSerif:{name:"Mono Serif",rule:"'Courier New', monospace"},propSans:{name:"Sans",rule:"sans-serif"},propSerif:{name:"Serif",rule:"serif"},comic:{name:"Comic",rule:"'Comic Sans MS', Impact, fantasy"},fancy:{name:"Fancy",rule:"'Monotype Corsiva', cursive"},smallCaps:{name:"Small Caps",rule:"'Andale Mono', 'Lucida Console', monospace, sans-serif"}},Bt={outlineDark:{name:"Outline Dark",rule:"0 0 1px rgba(0, 0, 0, 0.5)"},outlineLight:{name:"Outline Light",rule:"0 0 2px rgba(255, 255, 255, 0.75)"},outlineDarkBold:{name:"Outline Dark Bold",rule:"0 0 1px rgba(0, 0, 0, 1)"},outlineLightBold:{name:"Outline Light Bold",rule:"0 0 2px rgba(255, 255, 255, 1)"},shadowDark:{name:"Shadow Dark",rule:"2px 2px 2px rgba(0, 0, 0, 0.5)"},shadowLight:{name:"Shadow Light",rule:"2px 2px 2px rgba(255, 255, 255, 0.5)"},shadowDarkBold:{name:"Shadow Dark Bold",rule:"2px 2px 2px rgba(0, 0, 0, 1)"},shadowLightBold:{name:"Shadow Light Bold",rule:"2px 2px 2px rgba(255, 255, 255, 1)"}},Ht=Object(u.freeze)({powaPane:"powa-pane",ys:"powa-ys",show:"powa-ys-show",window:"powa-ys-window",windowShow:"powa-ys-window-show",header:"powa-ys-header",title:"powa-ys-title",field:"powa-ys-field",fieldName:"powa-ys-field-name",option:"powa-ys-option",optionSmall:"powa-ys-option-small",optionLarge:"powa-ys-option-large"}),Ft=Object(u.freeze)(Object(o.mapObj)(Ht,function(t){return".".concat(t)})),Vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return'<option value="'.concat(t,'" ').concat(e?"selected":"",">").concat(n,"</option>")},zt=function(t,e){return Object(o.reduce)(t,function(t,n){return"".concat(t,"\n").concat(Vt(n.rule,n.rule===e,n.name))},Vt("Default"))},Gt=function(){return'<div class="'.concat(Ht.ys,'"></div>')};function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object(u.hasFontAwesome)()||Object(u.loadCSS)("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css");var Xt=Object(u.freeze)({style:function(t){return"\n\t.powa-ys {\n\t\tcolor: ".concat(Object(u.getColor)(t.colors.primary),';\n\t\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpointer-events: none;\n\t\ttransition: all ').concat("0.25s",";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.powa:hover .powa-ys-show {\n\t\tpointer-events: auto;\n\t\topacity: 1;\n\t\tbackground-color: rgba(0,0,0, 0.1);\n\t}\n\n\t.powa-ys-window {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tjustify-content: space-between;\n\n\t\theight: 0;\n\t\twidth: 0;\n\t\tbox-sizing: border-box;\n\n\t\tborder: solid 2px ").concat("white",";\n\t\tborder-radius: 5px;\n\t\tbox-shadow: rgba(0, 0, 0, 0.2) 0px 0px 9px 1px;\n\n\t\topacity: 0;\n\t\tbackground-color: ").concat(Object(u.getColor)(t.colors.background,.75),";\n\t\ttransition: all ").concat("0.25s",";\n\t}\n\n\t.powa-ys-window-show {\n\t\topacity: 1;\n\t\tpadding: 5px;\n\t\theight: 155px;\n\t\twidth: 275px;\n\t}\n\n\t.powa-ys-field {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\toverflow: hidden;\n\t\ttransition: all ").concat("0.25s",";\n\t}\n\n\t.powa-ys-field-name {\n\t\tmargin-right: auto;\n\t}\n\n\t.powa-ys-option {\n\t\tmargin-left: 5px;\n\t}\n\n\t.powa-ys-header {\n\t\tjustify-content: center;\n\t\tpadding-bottom: 2px;\n\t}\n\n\t.powa-ys-option-small {\n\t\twidth: 75px;\n\t}\n\n\t.powa-ys-option-large {\n\t\twidth: 155px;\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t<div class="'.concat(Ht.window,'">\n\t\t<div class="').concat(Ht.field," ").concat(Ht.header,'">\n\t\t\t<span class="').concat(Ht.title,'">Subtitle Settings</span>\n\t\t</div>\n\t\t<div class="').concat(Ht.field,'">\n\t\t\t<span class="').concat(Ht.fieldName,'">Font</span>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionLarge,'" data-option="font-family">').concat(zt(Ut,t["font-family"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(Ht.field,'">\n\t\t\t<span class="').concat(Ht.fieldName,'">Font Size</span>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionLarge,'" data-option="font-size">').concat(zt(Wt,t["font-size"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(Ht.field,'">\n\t\t\t<span class="').concat(Ht.fieldName,'">Font Edge</span>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionLarge,'" data-option="text-shadow">').concat(zt(Bt,t["text-shadow"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(Ht.field,'">\n\t\t\t<span class="').concat(Ht.fieldName,'">Font Color</span>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionSmall,'" data-option="color">').concat(zt(Nt,t.color),'</select>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionSmall,'" data-option="textOpacity">').concat(zt($t,t.textOpacity),'</select>\n\t\t</div>\n\t\t<div class="').concat(Ht.field,'">\n\t\t\t<span class="').concat(Ht.fieldName,'">Background</span>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionSmall,'" data-option="background">').concat(zt(Nt,t.background),'</select>\n\t\t\t<select class="').concat(Ht.option," ").concat(Ht.optionSmall,'" data-option="backgroundOpacity">').concat(zt($t,t.backgroundOpacity),"</select>\n\t\t</div>\n\t</div>\n")},cueStyle:function(t){return"\n\tvideo::cue {\n\t\t".concat(Object(o.map)(t,function(t,e){return"".concat(e,": ").concat(t,";")}).join("\n\t\t"),"\n\t}\n")},error:console.error});var Zt=function(t){function e(t){var n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(r=Yt(e).call(this,Gt()))||"object"!==Kt(r)&&"function"!=typeof r?Qt(i):r,Object(u.bindAll)(Qt(n)),n.settings=Object(o.extend)(Xt,t);var a=Object(u.fetchLocal)("powaCueStyle"),c=Object(s.$)(n.settings.template(a));n.append(c);var d=Object(o.extend)({colors:Object(l.o)()},n.settings),h="function"==typeof n.settings.style?n.settings.style(d):n.settings.style;return Object(u.addCSS)(h,Mt),a&&n.addCSS(a),n.setupElements(),n.setupHandlers(),n.settings.$container.find(Ft.powaPane).append(Qt(n)),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(e,s["PoWaPack"]),n=e,(i=[{key:"setupElements",value:function(){this.$window=this.find(Ft.window),this.$options=this.find(Ft.option)}},{key:"setupHandlers",value:function(){var t=this;this.settings.powa.on(l.n.SUBS_ENABLED,function(){t.show()}),this.settings.powa.on(l.n.SUBS_DISABLED,function(){t.hide()}),this.settings.powa.on("subtitlesCustomizeClick",function(){t.toggleDisplay()}),this.on("click",function(e){e.target===e.currentTarget&&t.toggleDisplay()}),this.$options.on("change",this.updateCaptionStyle)}},{key:"toggleDisplay",value:function(){this.toggleClass(Ht.show),this.$window.toggleClass(Ht.windowShow)}},{key:"addCSS",value:function(t){var e=function(t){var e=function(t,e){return e?"rgba(".concat(t,", ").concat(e,")"):"rgb(".concat(t,")")},n=Object.assign({},t);return(n.color||n.textOpacity)&&(n.color=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"255, 255, 255",n=arguments.length>1?arguments[1]:void 0;return e(t,n)}(n.color,n.textOpacity)),(n.background||n.backgroundOpacity)&&(n.background=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0, 0, 0",n=arguments.length>1?arguments[1]:void 0;return e(t,n)}(n.background,n.backgroundOpacity)),delete n.textOpacity,delete n.backgroundOpacity,n}(t);if(this.settings.updateStyle)this.settings.updateStyle(e);else{var n=this.settings.cueStyle(e);Object(u.addCSS)(n,"".concat(Mt,"-cue"))}}},{key:"harvestOptions",value:function(){return this.$options.reduce(function(t,e){return t[e.dataset.option]=e.value,t},{})}},{key:"updateCaptionStyle",value:function(){var t=Object(o.filter)(this.harvestOptions(),function(t,e){return"Default"!==t}),e=JSON.stringify(t);Object(u.stashLocal)({powaCueStyle:e}),this.addCSS(t)}}])&&qt(n.prototype,i),r&&qt(n,r),e}();function te(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ee(t,e,n){return e&&te(t.prototype,e),n&&te(t,n),t}var ne={debug:!1,native:!1,subtitles:null,defaultLabel:"English",ready:function(){console.debug("[".concat("PoWaSub","] ready"))},setupError:console.error},ie=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(u.bindAll)(this),this.settings=Object(o.extend)({},ne,e),this.settings.label=this.settings.subtitles||Object(u.fetchLocal)("powaSubtitles",null),this.onOff=new vt.a,this.ignoreSubSwitch=!0;var n=Object(o.chain)(this.settings).pick(["$player","bump","subtitleStyle"]).rename({subtitleStyle:"style"}).value();this.$periscope=this.settings.native?null:new It(n),this.$yellowSubmarine=new Zt({$container:this.settings.$container,powa:this.settings.powa,updateStyle:this.$periscope?this.$periscope.updateStyle:null}),this.settings.ready(this.$periscope)}return ee(t,null,[{key:"MODULE",get:function(){return"PoWaSub"}},{key:"EVENTS",get:function(){return l.k}}]),ee(t,[{key:"firstFrame",value:function(){var t=this;this.initialState=!0,this.mediaStarted=!0,"live"===Object(u.get)(this.settings.powa.getVideoData(),"video_type")?(this.show(this.settings.label),this.listenForCaptions()):Object(u.get)(this,"embeddedTracks.length")?(this.show(this.settings.label),this.trigger(l.k.SUBS_AVAILABLE)):this.getTextTracks().length?(this.show(this.settings.label),this.watchSettings(),this.trigger(l.k.SUBS_AVAILABLE)):new At({track:this.settings.track,tracks:this.settings.tracks,ready:function(e){t.$crew=e,t.settings.$player.append(e),t.trigger(l.k.SUBS_AVAILABLE),requestAnimationFrame(function(){t.show(t.settings.label),t.watchSettings()})},error:function(e){t.trigger(l.k.SUBS_UNAVAILABLE)}})}},{key:"bump",value:function(t){this.$periscope&&this.$periscope.bump(t)}},{key:"unbump",value:function(){this.$periscope&&this.$periscope.unbump()}},{key:"subsEmbedded",value:function(t,e){this.hls=t,this.embeddedTracks=e}},{key:"subsSwitch",value:function(t){var e=this;this.mediaStarted&&requestAnimationFrame(function(){e.stashSettings(Object(u.get)(e,"embeddedTracks[".concat(t,"].name"),null))})}},{key:"subsLoaded",value:function(t){this.mediaStarted||(this.hls.subtitleTrack=-1)}},{key:"stashSettings",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!1;if(t!==this.settings.label){var n=this.getLabels(),i=n.includes(t),o=n.includes(this.settings.label);(i||null===t&&o)&&(Object(u.stashLocal)("powaSubtitles",t),this.settings.label=t,e=!0)}(this.initialState||e)&&(this.initialState=!1,this.settings.label?this.trigger(l.k.SUBS_ENABLED):this.trigger(l.k.SUBS_DISABLED))}},{key:"watchSettings",value:function(){this.settings.stashSubtitles&&(this.stashSettings(this.showing()),this.raf=requestAnimationFrame(this.watchSettings))}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.settings.tracks=t}},{key:"unload",value:function(){this.settings.label=this.showing(),this.$crew&&(this.$crew.destroy(),this.$crew=null)}},{key:"getTextTracks",value:function(){return Object(u.getTextTracks)(this.settings.$player.elements[0])}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLabels()[0]||null;if(this.hls&&Object(u.get)(this,"embeddedTracks.length")){var e=this.embeddedTracks.reduce(function(e,n){return n.name===t?n.id:e},-1);this.hls.subtitleTrack=e}this.$periscope?this.$periscope.show(t):this.getTextTracks().forEach(function(e){return e.mode=e.label===t?"showing":"disabled"})}},{key:"hide",value:function(){this.hls&&Object(u.get)(this,"embeddedTracks.length")&&(this.hls.subtitleTrack=-1),this.$periscope&&this.$periscope.hide(),this.getTextTracks().forEach(function(t){return t.mode="disabled"})}},{key:"getLabels",value:function(){return this.getSubtitles().map(function(t){return t.label})}},{key:"getSubtitles",value:function(){var t=this.getTextTracks();return Object(u.get)(this,"embeddedTracks.length")?this.embeddedTracks.map(function(t){return{language:t.lang,label:t.name}}):t.length?t.map(function(t){return{language:t.language,label:t.label}}):[]}},{key:"showing",value:function(){if(this.$periscope)return this.$periscope.showing();var t=this.getTextTracks();return t.length?t.reduce(function(t,e){return"showing"===e.mode?e.label:t},null):void 0}},{key:"getStatus",value:function(){return{subtitle:this.showing(),subtitles:this.getSubtitles()}}},{key:"on",value:function(t,e,n){this.onOff.on(t,e)}},{key:"off",value:function(t,e){this.onOff.off(t,e)}},{key:"once",value:function(t,e,n){this.onOff.once(t,e)}},{key:"onceIf",value:function(t,e,n,i){this.onOff.onceIf(t,e,n)}},{key:"until",value:function(t,e,n,i){this.onOff.until(t,e,n)}},{key:"trigger",value:function(t,e){this.onOff.trigger(t,e)}},{key:"destroy",value:function(){this.unload(),this.hls=null,this.onOff.destroy()}},{key:"cueChangeHandler",value:function(){var t=this;this.trigger(l.k.SUBS_AVAILABLE),this.getTextTracks().forEach(function(e){e.removeEventListener("cuechange",t.cueChangeHandler)})}},{key:"listenForCaptions",value:function(){var t=this;this.getTextTracks().forEach(function(e){e.addEventListener("cuechange",t.cueChangeHandler)})}}]),t}();function oe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function re(t,e,n){return e&&oe(t.prototype,e),n&&oe(t,n),t}n.d(e,"PoWa",function(){return Ce});var ae="PoWa",se=".m3u8",ce=Object(o.extend)(i.a.STATES),ue=Object(u.freeze)(["duration","muted","time","videoHeight","videoWidth","volume"]),le=Object(u.freeze)(["adBlocked","autoplayStatus","bitrate","height","level","stream","width"]),de=Object(u.freeze)(["capLevelToPlayerSize","liveBackBufferLength","liveDurationInfinity","liveMaxLatencyDuration","liveMaxLatencyDurationCount","liveSyncDuration","liveSyncDurationCount","maxBufferLength","maxMaxBufferLength","maxBufferSize","startLevel"]),he=Object(u.freeze)(["INF","PROGRAM-DATE-TIME"]),fe=Object(u.freeze)({height:"videoHeight",width:"videoWidth"}),pe=Object(u.freeze)({promo:{size:"medium"},scrubber:{controls:"powa"}}),ge=Object(u.freeze)({id:"",debug:!1,autoShowPromo:l.a/4,hlsjsURL:Object(gt.c)(),autoplay:!1,preload:"metadata",stashSubtitles:!0,stashVolume:!0,ready:console.debug,error:console.error}),ve=new WeakMap,me=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakMap,ke=new WeakMap,Oe=new WeakMap,Se=new WeakMap,Ee=new WeakMap,Ae=new WeakMap,je=new WeakMap,_e=new WeakMap;function Te(){var t=we.get(this),e=be.get(this),n=PoWaSettings.videoSupport;t.stream=t.streamOverride?t.streamOverride:n.hls||n.hlsJS?Object(u.get)(t,"video.streams[0]"):Object(o.reject)(t.video.streams,function(t){return Object(u.hasExtension)(t,se)})[0],t.stream=t.stream.trim(),t.streamOverride&&delete t.streamOverride,e.debug&&console.debug("stream",t.stream)}function Pe(t){var e=PoWaSettings.videoSupport;return t&&Object(u.hasExtension)(t,se)&&!e.hls&&e.hlsJS}function De(){var t=this;function e(t,e){var s=this,c=Object(u.fetchLocal)("powaLevel",0),d=Object(o.extend)({capLevelToPlayerSize:!0,maxBufferLength:10,maxMaxBufferLength:60,maxBufferSize:10485760,startLevel:c},Object(o.pick)(a,de)),h=new Hls(d);h.once=h.once||function(t,e){var n=arguments;h.on(t,function i(){h.off(t,i),e(n)})},h.loadStream&&console.warn("[".concat(ae,"][HLS] ### hls.loadStream ALREADY EXISTS ###")),h.loadStream=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;a.debug&&console.debug("[".concat(ae,"][HLS] load src: ").concat(t)),r.loaded===t?e():(n.once(l.n.LOADED,function(){r.loaded=t,e()}),h.loadSource(t))},h.on(Hls.Events.FRAG_PARSED,function(t,e){var i=Object(u.get)(e,"frag.tagList",[]);i.find(function(t){return he.reduce(function(e,n){return e&&!t.includes(n)},!0)})&&n.trigger(l.n.HLS_TAGS,{tags:i})});var f=!0;h.on("hlsLevelSwitching",function(t,e){e=Object(o.pick)(e,["bitrate","height","level","width"]),Object.assign(r,e),f?(a.debug&&console.debug("[".concat(ae,"][HLS] initial level"),e),f=!1,n.trigger(l.n.HLS_INITIAL_LEVEL,e)):(a.debug&&console.debug("[".concat(ae,"][HLS] level switch"),e),Object(u.stashLocal)({powaLevel:e.level}),n.trigger(l.n.HLS_LEVEL_SWITCH,e))}),h.on(Hls.Events.ERROR,function(t,e){if(e.fatal&&"bufferAppendError"!==e.details){var i=Object.assign({},e);i.context=Object(o.extend)(e.context),i.context.loader=null,i.loader=Object(o.extend)(e.loader),i.loader.context=null,n.trigger(l.n.ERROR,i)}}),h.on(Hls.Events.MEDIA_ATTACHED,function(){a.debug&&console.debug("[".concat(ae,"][HLS] attached")),h.on(Hls.Events.MANIFEST_PARSED,function(t,e){a.debug&&console.debug("[".concat(ae,"][HLS] manifest loaded, ").concat(e.levels.length," quality levels")),n.trigger(l.n.LOADED,e)}),t()}),h.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(t,e){var n=je.get(s);n&&n.subsEmbedded(h,e.subtitleTracks)}),h.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(t,e){var n=je.get(s);n&&n.subsSwitch(e.id)}),h.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(t,e){var n=je.get(s);n&&n.subsLoaded(e)}),h.attachMedia(i.elements[0]),ve.set(this,h)}var n=ye.get(this),i=Oe.get(this),r=we.get(this),a=be.get(this);return new Promise(function(o,s){Pe(r.stream)?"function"==typeof Hls?e.call(t,o,s):Object(u.promiseScript)(a.hlsjsURL).then(function(){return e.call(t,o,s)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.debug&&console.error("[".concat(ae,"][setupHLS]"),e),n.trigger(l.n.ERROR,{eventID:912,error:e.toString?e.toString():e,errorMessage:Object(u.get)(e,"message","hls.js is not available"),module:ae,method:"setupHLS"}),PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1,Te.call(t),i.load(r.stream),o()}):o()})}var Ce=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(u.bindAll)(this),function(t){var e=this;return new Promise(function(n,i){switch(window.PoWaSettings=Object(o.extend)(pe,window.PoWaSettings),PoWaSettings.client=PoWaSettings.client||Object(u.sniffClient)(),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(u.getVideoSupport)(),t.hls){case"native":PoWaSettings.videoSupport.hls=!0;break;case"js":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!0;break;case"none":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1}var a=PoWaSettings.client,s=["stream","track","video"],c=Object(o.pick)(PoWaSettings.scrubber,"controls"),l=Object(o.extend)(ge,c,t),d=Object(o.pick)(l,s);(l=Object(o.omit)(l,s)).id=l.id.replace?l.id.replace(/(^#)/,""):l.id,l.stashSubtitles=Object(u.has)(t,"stashSubtitles")?t.stashSubtitles:!Object(u.has)(t,"subtitles")&&l.stashSubtitles,l.stashVolume=Object(u.has)(t,"stashVolume")?t.stashVolume:!Object(u.has)(t,"muted")&&!Object(u.has)(t,"volume")&&l.stashVolume,Object(u.has)(a,"isDesktop")||(a.isDesktop=!(a.isMobile||a.isTablet)),l.controls=a.isDesktop?l.controls:Object(u.has)(l,"mobileControls")?l.mobileControls:l.controls;var h=l.powaTrack||new r.a(Object(o.extend)({id:l.id,debug:l.debug},PoWaSettings.powaTrack));h.extend(function(t){return Object(o.extend)(e.getStatus(),t)}),e.updaters=[],d.stream&&(d.streamOverride=d.stream,delete d.stream);var f=function(){ye.set(e,h),be.set(e,l),we.set(e,d),n()};l.autoplay?(d.autoplayStatus="autoplay",Object(u.canAutoplay)(l.muted).then(f).catch(function(){l.autoplayMuted?Object(u.canAutoplay)(!0).then(function(){d.autoplayStatus="autoplayMuted",l.muted=!0,f()}).catch(function(){d.autoplayStatus="autoplayMutedBlocked",l.autoplay=!1,f()}):(d.autoplayStatus="autoplayBlocked",l.autoplay=!1,f())})):(d.autoplayStatus="disabled",f())})}.call(this,n).then(function(){return function(){var t=this,e=be.get(this);return new Promise(function(n,i){var r=e.$container||new S.a(Object(o.defined)(Object(o.extend)({powa:t,element:document.getElementById(e.id),aspectRatio:e.aspectRatio,client:PoWaSettings.client},Object(u.get)(PoWaSettings,"container",{}))));ke.set(t,r),n(r)})}.call(e)}).then(function(){(function(){var t=be.get(this),e=ye.get(this),n=ke.get(this),i=t.$promo?t.$promo:new a.a({$container:n,data:t.promo,default:!!t.promoDefault,id:t.id,powa:t.powaDrive||this,powaTrack:e,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template});return t.autoplay&&i.hide(),_e.set(this,i),i}).call(e),Te.call(e),function(){var t=this,e=we.get(this),n=be.get(this),r=ye.get(this),a=ke.get(this);if(a){var s=a.attr("id").replace("powa","powa-player"),c=e.stream&&Object(u.hasExtension)(e.stream,se)&&!PoWaSettings.videoSupport.hls?"":e.stream,d=new i.a({controls:"native"===n.controls,debug:n.debug,id:s,loop:n.loop,muted:n.muted,preload:n.preload,stashVolume:n.stashVolume,stream:c,style:{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"},type:i.a.VIDEO,volume:n.volume});return Object(o.forEach)(i.a.EVENTS,function(t){var e=i.a.powaDown(t);d.on(t,function(t){return r.trigger(e,t.detail?t.detail:t)}),n.on&&n.on[e]&&"function"==typeof n.on[e]&&r.on(e,n.on[e])}),r.on(l.n.MEDIA_CLICK,function(t){t.playing?d.pause():d.play()}),r.on(l.n.START,function(n){var i=ve.get(t),o=Ee.get(t),a=me.get(t),s=o&&a&&"adTagLoading"===a.getStatus()?function(){return r.once(l.n.AD_READY,t.startAd)}:o&&o.getStatus().adPreload?t.startAd:o?function(){t.getAdTag().then(function(e){e?(t.loadAd(e),t.startAd()):d.play()}).catch(d.play)}:d.play;i?i.loadStream(e.stream,s):s()}),r.on(l.n.SEEK,function(t){var e=d.getStatus(),n=Object(u.get)(e,"duration",0),i=Object(u.has)(t,"seek")?t.seek:Object(u.get)(t,"seekPosition",0)*n;d.seek(i)}),a.append(d),Oe.set(this,d),d}}.call(e)}).then(function(){return function(){var t=this;return new Promise(function(e,n){var i=we.get(t),r=be.get(t),a=Oe.get(t),s=ye.get(t),c=ke.get(t),d=new ie(Object(o.extend)({$container:c,$player:a,powa:r.powaDrive||t,ready:function(t){t&&c.append(t),e()},stashSubtitles:r.stashSubtitles,subtitles:"string"==typeof r.subtitles?r.subtitles:null,track:i.track,tracks:Object(u.get)(i,"video.tracks")},PoWaSettings.subtitles));i.track&&delete i.track,Object(o.forEach)(ie.EVENTS,function(t){d.on(t,function(e){return s.trigger(t,e.detail?e.detail:e)})}),s.on(l.n.FIRST_FRAME,d.firstFrame),s.on(O.EVENTS.show,d.bump),s.on(O.EVENTS.hide,d.unbump),je.set(t,d)})}.call(e)}).then(function(){return function(){var t=this,e=be.get(this),n=ye.get(this),i=ke.get(this),r=Object(u.get)(PoWaSettings,"scrubber",{});return new Promise(function(a,s){if(i&&!e.loop&&e.controls&&"native"!==e.controls){var c=new O(Object(o.extend)({client:PoWaSettings.client,powa:e.powaDrive||t,powaTrack:n},Object(o.pick)(r,["template","style"])));i.append(c),Se.set(t,c),a()}else a()})}.call(e)}).then(function(){return De.call(e)}).then(function(){return function(){var t=be.get(this),e=ye.get(this);if(t.ads){var n=t.powaSellAdTag||new I.a(Object(o.extend)({powaTrack:e,powa:t.powaDrive||this},Object(o.pick)(t,["adPreload","getAdTag"])));return me.set(this,n),Promise.resolve(n)}return Promise.resolve(null)}.call(e)}).then(function(){return function(){var t=be.get(this),e=ye.get(this),n=ke.get(this),i=Object(o.extend)(t.advertising,PoWaSettings.advertising);if(t.ads&&i.adBar){var r=i.adBar?Object(o.extend)(L.DEFAULTS,i.adBar):i.adBar,a=new L(Object(o.extend)({$container:n,powaTrack:e,id:t.id},r));n.append(a),Ae.set(this,a)}return Promise.resolve(null)}.call(e)}).then(function(){return function t(){var e=this;return new Promise(function(n,r){var a=be.get(e);if(a.ads){var s=ye.get(e),c=_e.get(e),d=Oe.get(e),h=a.adHacks?pt:ot;if(d){var f=Object(o.extend)({$container:ke.get(e),powa:a.powaDrive||e,$player:d,powaTrack:s,adBar:a.adBar,debug:a.debug,id:a.id,ready:function(t){Ee.set(e,t),Object.assign(ce,h.STATES),s.on(l.n.RESIZE,t.resize),n(t)},setupError:function(t,i){var o=we.get(e);s.trigger(l.n.AD_SETUP_ERROR,{eventID:920,error:t.toString?t.toString():t,errorMessage:Object(u.get)(t,"message","The ad module failed to instantiate."),method:"setupAdverting",module:ae}),o.adBlocked=i.getStatus().state===h.STATES.AD_BLOCKED,n()}},a.advertising,PoWaSettings.advertising),p=new h(f);p.on(l.n.AD_LOADED,function(t){d.hide(),d.pause()}),p.on(l.n.AD_MUTE,function(t){return d.mute(t.detail.muted)}),p.on(l.n.AD_CLICK,function(t){p.pause(),!1!==Object(u.get)(PoWaSettings,"advertising.skipOnClick")&&(Object(u.get)(PoWaSettings,"advertising.adBar")?p.showSkip():p.skip())}),p.on(l.n.AD_END,function(n){var o=ve.get(e),r=we.get(e);d.show();var a=function(){p.getStatus().adPreload&&!d.started?c.show():n.detail.status!==l.n.AD_CLICK||Object(u.get)(PoWaSettings,"advertising.adBar")?d.play():(c.showPlayButton(),c.show()),Object(u.get)(PoWaSettings,"advertising.adTeardown")&&(p.destroy(),t.call(e))};d.getStatus().state!==i.a.STATES.SKIPPED&&(o&&Object(u.hasExtension)(r.stream,se)?Object(u.onceVisible)(a):a())}),Object(o.forEach)(h.EVENTS,function(t){p.on(t,function(e){return s.trigger(t,e.detail?e.detail:e)}),a.advertising&&a.advertising.on&&a.advertising.on[t]&&"function"==typeof a.advertising.on[t]&&s.on(t,a.advertising.on[t])})}}else n()})}.call(e)}).then(function(){var t=ye.get(e),n=be.get(e),i=we.get(e),r=_e.get(e);t.on(l.n.PROMO_PLAY,e.play),t.on(l.n.AD_PLAY,r.hide),t.on(l.n.PLAY,r.hide),t.on(l.n.END,function(){if(n.autoShowPromo){i.autoShowPromoTimeout=setTimeout(function(){e.getStatus().running||(r.show(),i.autoShowPromoTimeout=null)},n.autoShowPromo)}}),Object(u.set)(window,"powas.".concat(n.id,".powa"),e,!1);var a=Object.assign({powa:e},Object(o.pick)(n,"autoplay"),Object(o.pick)(i,"autoplayStatus"));n.ready(a),a.powa=n.powaDrive||a.powa,t.trigger(l.n.POWA_READY,a),(n.autoplay||n.initplay)&&(n.autoplay&&t.trigger(l.n.AUTOPLAY),e.play())}).catch(function(t){var i=ye.get(e);n.error(t),i&&i.trigger(l.n.POWA_ERROR,t)})}return re(t,null,[{key:"MODULE",get:function(){return ae}},{key:"EVENTS",get:function(){return l.n}},{key:"STATES",get:function(){return ce}},{key:"BUILD",get:function(){return"debd6950"}},{key:"VERSION",get:function(){return"3.1.0"}}]),re(t,[{key:"get$container",value:function(){return ke.get(this)}},{key:"get$video",value:function(){return Oe.get(this)}},{key:"powaTrackExtend",value:function(t){var e=ye.get(this);e&&e.extend(t)}},{key:"loadVideo",value:function(t){var e=this,n=arguments,i=ve.get(this),r=ye.get(this),a=_e.get(this),s=Oe.get(this),c=je.get(this),u=we.get(this),d=be.get(this),h=Ee.get(this),f=function(){u.video=t,Te.call(e),h&&h.clearStatus();var d=function(){s.clearStarted(),c.load(u.video.tracks),Pe(u.stream)?De.call(e).then(function(){ve.get(e).loadStream(u.stream)}).catch(function(t){console.error(t)}):s.load(u.stream)},f=s.getStatus();u.stream?i?(i.once(Hls.Events.MEDIA_DETACHED,function(){ve.set(e,null),d()}),i.destroy()):s.unload(d):r.trigger(l.n.ERROR,Object(o.extend)(f,{eventID:930,error:"No viable stream",errorMessage:"No viable streams",module:ae,method:"loadVideo",parameters:n})),t.promo&&a.update(t.promo)};d.debug&&console.debug("[".concat(ae,"][load]"),t),this.getStatus().running&&s.skip(),c&&c.unload(),h&&h.isRunning()?(h.once(l.n.AD_END,f),h.skip()):f()}},{key:"getAdTag",value:function(t){var e=me.get(this);return e?e.getAdTag(t):Promise.reject("No powaSellAdTag")}},{key:"loadAd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=be.get(this),i=Ee.get(this);n.debug&&console.debug("[".concat(ae,"][loadAd] - ").concat(t)),t&&i&&i.requestAd(t,e,n.powaDrive||this)}},{key:"startAd",value:function(){var t=be.get(this),e=Oe.get(this),n=Ee.get(this),i=ye.get(this);if(t.debug&&console.debug("[".concat(ae,"][startAd]")),n){var o=n.getStatus(),r=o.adTagURL;o.state!==ot.STATES.AD_ERROR?(r&&ye.get(this).trigger(l.n.AD_WAITING,{type:l.n.AD_WAITING,adMeta:o.adMeta}),o.adReady?n.startAd():r&&i.once(l.n.AD_READY,function(){n.getStatus().adTagURL===r&&n.startAd()})):e.play()}}},{key:"skipAd",value:function(){var t=be.get(this),e=Ee.get(this);t.debug&&console.debug("[".concat(ae,"][skipAd]")),e&&e.isRunning()&&e.skip()}},{key:"pause",value:function(){var t=be.get(this),e=Ee.get(this);t.debug&&console.debug("[".concat(ae,"][pause]")),e&&e.isRunning()?e.pause():Oe.get(this).pause()}},{key:"play",value:function(){var t=we.get(this),e=be.get(this),n=Oe.get(this),i=Ee.get(this),o=ye.get(this);e.debug&&console.debug("[".concat(ae,"][play]")),o.isReady()?t.stream?(t.autoShowPromoTimeout&&(clearTimeout(t.autoShowPromoTimeout),t.autoShowPromoTimeout=null),i&&i.isRunning()?i.play():(i&&i.initialUserAction(),n.play())):o.trigger(l.n.ERROR,{eventID:930,module:ae,method:"play",parameters:arguments,error:"No viable streams",errorMessage:"No viable streams"}):e.initplay=!0}},{key:"togglePlay",value:function(){Oe.get(this).togglePlay()}},{key:"seekTime",value:function(t){this.debug&&console.debug("[".concat(ae,"][seekTime]")),ye.get(this).trigger(l.n.SEEK,{seek:t})}},{key:"seekPosition",value:function(t){this.debug&&console.debug("[".concat(ae,"][seekPosition]")),ye.get(this).trigger(l.n.SEEK,{seekPosition:t})}},{key:"seekLive",value:function(){var t=ve.get(this);return t?this.seekTime(t.liveSyncPosition):null}},{key:"jump",value:function(t){return Oe.get(this).jump(t)}},{key:"mute",value:function(t){Oe.get(this).mute(t)}},{key:"volume",value:function(t){Oe.get(this).volume(t)}},{key:"showPromo",value:function(){be.get(this).debug&&console.debug("[".concat(ae,"][showPromo]")),_e.get(this).show()}},{key:"hidePromo",value:function(){be.get(this).debug&&console.debug("[".concat(ae,"][hidePromo]")),_e.get(this).hide()}},{key:"showControls",value:function(){var t=be.get(this),e=Se.get(this);"native"===t.controls?Oe.get(this).setControls(!0):t.controls&&e&&e.showControls()}},{key:"hideControls",value:function(){var t=be.get(this),e=Se.get(this);"native"===t.controls?Oe.get(this).setControls(!1):t.controls&&e&&e.hideControls()}},{key:"showSubtitles",value:function(t){var e=je.get(this);e&&e.show(t)}},{key:"hideSubtitles",value:function(){var t=je.get(this);t&&t.hide()}},{key:"toggleSubtitles",value:function(){var t=je.get(this);t&&(t.showing()?t.hide():t.show())}},{key:"isFullscreen",value:function(){var t=this.get$container();return t?t.isFullscreen():null}},{key:"fullscreen",value:function(t){var e=this.get$container();e&&e.fullscreen(t)}},{key:"getStatus",value:function(){var t=be.get(this),e=we.get(this),n=Oe.get(this),i=Ee.get(this),r=je.get(this),a=ye.get(this),s=i?i.getStatus():{},c=n?n.getStatus():{},l=r?r.getStatus():{},d={autoplay:t.autoplay,running:!!(c.running||s.running||Object(u.notEmpty)(s)&&s.state===ce.AD_CLICKED&&c.state===ce.IDLE),playing:!!(c.state===ce.PLAYING||Object(u.notEmpty)(s)&&s.state===ce.AD_PLAYING),state:s.running?s.state:Object(u.notEmpty)(c)?c.state:Object(u.notEmpty)(s)?s.state:null,videoStarts:a?a.getVideoStarts():0};Object.assign(d,Object(o.pick)(c,ue));var h=Object(o.chain)(e).pick(le).rename(fe).compact().value();if(Object.assign(d,h),Object(u.notEmpty)(s)){var f=s.running?s.timing.duration-(s.timing.remaining>=0?s.timing.remaining:s.timing.lastRemaining):null;Object.assign(d,{adDuration:s.timing.duration,adRunning:s.running,adStatus:s,adTime:f})}return d=Object(o.extend)(d,l),this.updaters.reduce(function(t,e){return e(t)},d)}},{key:"statusUpdater",value:function(t){"function"==typeof t&&this.updaters.push(t)}},{key:"on",value:function(t,e,n){var i=ke.get(this);!i||t!==l.n.VIEWABLE&&t!==l.n.NOT_VIEWABLE?ye.get(this).on(t,e):i.on(t,e,n)}},{key:"off",value:function(t,e){var n=ke.get(this);!n||t!==l.n.VIEWABLE&&t!==l.n.NOT_VIEWABLE?ye.get(this).off(t,e):n.off(t,e)}},{key:"once",value:function(t,e,n){var i=ke.get(this);!i||t!==l.n.VIEWABLE&&t!==l.n.NOT_VIEWABLE?ye.get(this).once(t,e,n):i.once(t,e,n)}},{key:"onceIf",value:function(t,e,n,i){var o=ke.get(this);!o||t!==l.n.VIEWABLE&&t!==l.n.NOT_VIEWABLE?ye.get(this).onceIf(t,e,n,i):o.onceIf(t,n,i)}},{key:"until",value:function(t,e,n,i){var o=ke.get(this);!o||t!==l.n.VIEWABLE&&t!==l.n.NOT_VIEWABLE?ye.get(this).until(t,e,n,i):o.until(t,n,i)}},{key:"trigger",value:function(t,e){ye.get(this).trigger(t,e)}},{key:"destroy",value:function(){var t=ve.get(this),e=ye.get(this),n=ke.get(this),i=Oe.get(this),o=Ee.get(this),r=je.get(this),a=_e.get(this);e.trigger(l.n.DESTROYED,{type:l.n.DESTROYED}),t&&t.destroy(),o&&o.destroy(),a.destroy(),r.destroy(),i.destroy(),e.destroy(),n.destroy(),delete window.powas[be.get(this).id].powa,ve.set(this,null),ye.set(this,null),be.set(this,null),we.set(this,null),ke.set(this,null),Oe.set(this,null),_e.set(this,null),Ee.set(this,null),je.set(this,null)}}]),t}();window.PoWa=Ce},,,,,,function(t,e,n){t.exports=n(146)},function(t,e,n){"use strict";n.r(e),n.d(e,"PoWaDrive",function(){return U});n(85);var i=n(5),o=n(139),r=n(45),a=n(83),s=n(82),c=n(1),u=n(81),l=n(3),d=n(2),h=n(0);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var v="PoWaDrive",m=Object(h.freeze)({AUTOINIT:{TRUE:!0,FALSE:!1,NATIVE_HLS:"native-hls"},DEBUG:{TRUE:!0,FALSE:!1,FULL:"full"}}),y=Object(h.freeze)({ads:!0,adHacks:!0,autoplay:!1,autoinit:m.AUTOINIT.NATIVE_HLS,debug:m.DEBUG.FALSE});Object(h.set)(window,"PoWaSettings.powaUp.element",[],!1),Object(h.set)(window,"PoWaSettings.powaUp.videoData",[],!1);var b=Object(h.freeze)({advertising:{},imageResizer:function(t){return t.url},maxBitrate:{mobile:300,tablet:600,desktop:2e3},promo:{size:"medium"},streamPreference:["_master.m3u8","_mobile.m3u8",".m3u8",".mp4",".webm"]}),w=Object(h.freeze)({additional_properties:{imageResizerUrls:[]},canonical_url:"",headlines:{},promo_image:{},streams:[],subtitles:{urls:[]}}),k=new WeakMap,O=new WeakMap,S=new WeakMap,E=new WeakMap;function A(t){return t&&t instanceof HTMLElement?(Object(h.ensureDataset)(t),function(t){var e=t.getAttribute("id");if(!e){var n=Object(d.mapObj)(t.dataset,h.parseString);e="powa-".concat(n.uuid?n.uuid:Date.now()),t.setAttribute("id",e)}}(t),t):null}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,i=k.get(this);function o(e){var o=Object(d.find)(i.playlist,function(e){return e.uuid===t._id});o&&(o.error=!0),n(Object(d.extend)({error:"incomplete video data",videoData:t},e))}(t=Object(d.extend)(w,t))._id?t.headlines.basic?t.streams.length?t.promo_image.url?"live"===t.video_type&&"ended"===t.status?o({message:"livestream ended",error:"livestream ended"}):e(t):o({message:"video data missing image"}):o({message:"video data missing streams"}):o({message:"video data missing title"}):o({message:"video data missing uuid"})}function _(t){if(!t)return null;var e=PoWaSettings.client.isMobile?"mobile":PoWaSettings.client.isTablet?"tablet":"desktop",n=T(t),i=Object(h.get)(t,"mediaTailor.manifestURL");return{promo:n,streams:i?[i]:Object(h.selectStreams)({streams:t.streams,live:"live"===t.video_type,maxBitrate:PoWaSettings.maxBitrate[e],streamPreference:PoWaSettings.streamPreference}),tracks:function(t){return!t.additional_properties.doNotShowTranscripts&&Object(h.get)(t,"subtitles.urls.length")&&Object(d.some)(t.subtitles.urls,function(t){return"WEB_VTT"===t.format})?t.subtitles.urls:null}(t)}}function T(t){var e=Object(d.find)(t.additional_properties.imageResizerUrls,function(t){return t&&t.size&&t.size===PoWaSettings.promo.size});return{image:Object(h.protocolAgnosticURL)(!1!==PoWaSettings.promo.resized&&e&&e.url?e.url:PoWaSettings.imageResizer?PoWaSettings.imageResizer(t.promo_image):t.promo_image),title:t.headlines.basic,videoData:t}}function P(t){L.call(this),S.get(this).trigger(c.n.POWA_ERROR,{error:t,id:O.get(this).elementID,powa:this})}function D(t){return window.powaData=window.powaData||{},Object(h.isObject)(t)&&t._id&&(powaData[t._id]=t),t}function C(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=function(t,i,o){(function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return new Promise(function(o,r){var a=k.get(t);e=Array.isArray(e)?e:[e],a.videoData=e[0],PoWaSettings.powaUp.videoData.reduce(function(e,n){return e.then(function(e){return n(e,t)})},Promise.resolve(e)).then(function(e){var r=a.playlist||[];r=Object(d.find)(r,function(t){return t.uuid===e[0]._id})?r:e,t.setPlaylist(r),n?a.playlistUUID=n:delete a.playlistUUID,i?a.playlistName=i:delete a.playlistName,n?a.playlistUUID=n:delete a.playlistUUID,i?a.playlistName=i:delete a.playlistName,o(e[0])})})}).call(e,t,i,o).then(n)},r=O.get(this);window.powaData=window.powaData||{};var a=t.uuid,s=t.playlist;if(a&&powaData[a])o(powaData[a]);else{var c=r.api,u=a?function(t){var e=t.uuid,n=t.api;return PoWaSettings.videoAPI({uuid:e,api:n,type:"video"})}({uuid:a,api:c}):function(t){var e=t.playlist,n=t.api;return PoWaSettings.videoAPI({playlist:e,api:n,type:"playlist"})}({playlist:s,api:c}),l=a||s;l=l.replace(/\W/g,""),Object(h.getJSONP)({id:l,url:u,resolve:function(t){var e=t.uuid||null,n=t.playlistName||null;(t=t.playlistItems||t).length?o(t,e,n):i({uuid:a,error:"no video data",message:"No video data available for ".concat(a||s,".")})},reject:i,callbackParam:"cb"})}}function x(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=k.get(this);j.call(this,t,function(t){o.powa?(o.videoData=t,L.call(e),o.powa.once(c.n.LOADED,n),o.powa.loadVideo(_(t))):W.call(e,t)},i)}function R(t){var e=k.get(this);console.error("[".concat(v,"] error - ").concat(t.message||t)),S.get(this).trigger("error",t),e.powa||P.call(this,t)}function L(){var t=O.get(this);Object(h.set)(window,"powas.".concat(t.elementID,".powa"),this,!1)}function I(t){var e=this,n=k.get(this),r=O.get(this),a=S.get(this),s=E.get(this),u=T(n.videoData),f=Object(d.chain)(y).pick(["ads","adHacks","autoplay"]).extend({debug:!1,id:r.elementID,hlsjsURL:Object(l.c)(r.org),video:_(n.videoData),ready:function(t){n.powa=t.powa,e.updaters.forEach(function(t){return n.powa.statusUpdater(t)}),delete e.updaters,function(){var t=this,e=k.get(this),n={onAdCompanions:function(t){var e=k.get(this);Object(h.get)(e,"state.$adCompanionContainer.elements[0]")&&Object(h.get)(t,"adCompanions.length")&&e.$adCompanionContainer.append(Object(i.$)(t.adCompanions[0].content))},onAdEnd:function(){var t=k.get(this);Object(h.get)(t,"$adCompanionContainer.empty")&&t.$adCompanionContainer.empty()},onComplete:function(){this.next()},onError:function(){var t=k.get(this),e=Object(d.find)(t.playlist,function(e){return e.uuid===t.videoData._id});e&&(e.error=!0),this.next()},onStart:function(){var t=k.get(this),e=Object(d.find)(t.playlist,function(e){return e.uuid===t.videoData._id});e&&(e.played=!0),this.trigger(c.e.PLAYLIST)}};Object(d.forEach)(c.n,function(i){var o="on".concat(i[0].toUpperCase()+i.slice(1));n[o]&&e.powa.on(i,n[o].bind(t))})}.call(e)},error:function(t){P.call(e,t)},poster:u.image,powaDrive:this,powaTrack:a,powaSellAdTag:s,promo:u}).extend(this.getDataset()).extend(t).value();"default"===f.promo&&(f.promoDefault=!0),!Object(h.has)(f,"muted")&&!Object(h.has)(f,"volume")||Object(h.has)(f,"stashVolume")||(f.stashVolume=!1),f.promo=u,f.id=r.elementID,f.debug=r.element.debug===m.DEBUG.FULL,new o.PoWa(f)}function M(){var t=k.get(this);S.get(this).off(r.a.EVENTS.PROMO_PLAY,t.promoPlayCallback),delete t.promoPlayCallback,I.call(this,{initplay:!0,$container:t.$container,$promo:t.$promo})}function W(t){var e=k.get(this),n=O.get(this);switch(e.videoData=t,L.call(this),function(){var t=k.get(this),e=O.get(this);if(e.element.dataset.adCompanion){var n=e.element.dataset.adCompanion.replace(/^#/,"");t.$adCompanionContainer=Object(i.$)("#".concat(n))}}.call(this),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(h.getVideoSupport)(),n.hls){case"native":PoWaSettings.videoSupport.hls=!0;break;case"js":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!0;break;case"none":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1}var o=Object(h.get)(PoWaSettings,"videoSupport.hls");!!n.autoplay||(!!n.adPreload||"live"!==t.video_type&&(!(n.autoinit!==m.AUTOINIT.NATIVE_HLS||!o)||!0===n.autoinit))?I.call(this,{$container:e.$container}):function(){var t=k.get(this),e=S.get(this),n=O.get(this),i=S.get(this),o=T(t.videoData);t.$promo=new r.a({powa:this,powaTrack:i,data:o,id:n.elementID,$container:t.$container,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template,default:"default"===n.element.dataset.promo}),t.promoPlayCallback=M.bind(this),e.on(r.a.EVENTS.PROMO_PLAY,t.promoPlayCallback)}.call(this)}function N(t,e){return new Promise(function(e,n){t.forEach(function(t){t.streams=t.streams.map(function(t){return t.url=Object(h.upgradeQueryString)(t.url,{player:"powa"}),t})}),e(t)})}function $(t,e){return Object.assign({id:this.getID(),element:this.getElement(),powa:this,playlist:this.getPlaylist(),playlistMeta:this.getPlaylistMeta(),videoData:this.getVideoData()},t)}var U=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(h.bindAll)(this),!(e=A(e)))return P.call(this,{error:"invalid element",message:"PoWa element is invalid"}),null;var i=Object(d.extend)(y,Object(d.mapObj)(e.dataset,h.parseString),{element:e,elementID:e.id});i.org=i.org||Object(h.get)(PoWaSettings,"org"),i.env=i.env||Object(l.b)(),i.api=i.api||"prod";var o=new a.a(Object(d.extend)({id:i.elementID,debug:!!i.debug,extender:$.bind(this)},PoWaSettings.powaTrack,Object(d.pick)(i,"keepHistory")));S.set(this,o),this.updaters=[];var r=Object(d.extend)(Object(d.defined)({powa:this,element:i.element,aspectRatio:i.aspectRatio,client:PoWaSettings.client,style:PoWaSettings.container}),Object(h.get)(PoWaSettings,"container",{}));if(i.ads){var c=new s.a({powaTrack:o,powa:this,adPreload:!!i.adPreload});E.set(this,c)}k.set(this,{$container:new u.a(r),playlist:[]}),O.set(this,i),function(){window.PoWaSettings=window.PoWaSettings||{},PoWaSettings=Object(d.extend)(b,PoWaSettings),PoWaSettings.client=PoWaSettings.client||Object(h.sniffClient)()}.call(this),PoWaSettings.powaUp.videoData.push(N),i.playlist?C.call(this,{playlist:i.playlist},function(t){j.call(n,t,W.bind(n),R.bind(n))},R.bind(this)):i.uuid?C.call(this,{uuid:i.uuid},function(t){j.call(n,t,W.bind(n),R.bind(n))},R.bind(this)):R.call(this,{error:"missing stream ID",message:'Neither "data-uuid" nor "data-playlist" provided.'})}return g(t,null,[{key:"BUILD",get:function(){return"debd6950"}},{key:"VERSION",get:function(){return"3.1.0"}}]),g(t,[{key:"get$container",value:function(){return k.get(this).$container}},{key:"getElement",value:function(){return O.get(this).element}},{key:"get$video",value:function(){var t=k.get(this);return t.powa?t.powa.get$video():null}},{key:"getID",value:function(){return O.get(this).elementID}},{key:"getAPI",value:function(){return O.get(this).api}},{key:"getEnv",value:function(){return O.get(this).env}},{key:"getDataset",value:function(){var t=Object(h.ensureDataset)(this.getElement()).dataset;return Object(d.mapObj)(t,h.parseString)}},{key:"powaTrackExtend",value:function(t){var e=S.get(this);e&&e.extend(t)}},{key:"getVideoData",value:function(){return k.get(this).videoData||{}}},{key:"getPlaylistMeta",value:function(){var t=k.get(this),e=this.getVideoData()._id,n={currentIndex:e?t.playlist.findIndex(function(t){return t.uuid===e}):null,playlistStatus:t.playlist};return t.playlistName&&(n.name=t.playlistName),t.playlistUUID&&(n.uuid=t.playlistUUID),n}},{key:"getPlaylist",value:function(){return k.get(this).playlist.map(function(t){return powaData[t.uuid]})}},{key:"setPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=k.get(this);if(t!==e.playlist&&Array.isArray(t)){var n=e.playlist;e.playlist=Object(d.chain)(t).forEach(D).map(function(t){var e="string"==typeof t?t:t.uuid?t.uuid:t._id?t._id:null;if(e){var i=Object(d.find)(n,function(t){return t.uuid===e}),o=i?i.played:Object(h.get)(t,"played",!1),r=i?i.error:Object(h.get)(t,"error",!1);return{uuid:e,played:o,error:r}}}).compact().value(),this.trigger(c.e.PLAYLIST_LOADED)}}},{key:"loadVideo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=k.get(this),r=function(t){R.call(e,t),i(t)};switch(f(t)){case"string":o.videoData&&t===o.videoData._id?n():C.call(this,{uuid:t},function(t){x.call(e,t,n,r)},r);break;case"object":o.videoData&&t._id===o.videoData._id?n():x.call(this,t,n,r)}}},{key:"getAdTag",value:function(){var t=E.get(this);return t?t.getAdTag():Promise.reject("No powaSellAdTag")}},{key:"loadAd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=k.get(this);n.powa&&n.powa.loadAd(t,e)}},{key:"startAd",value:function(){var t=k.get(this);t.powa&&t.powa.startAd()}},{key:"skipAd",value:function(){var t=k.get(this);t.powa&&t.powa.skipAd()}},{key:"play",value:function(){var t=k.get(this);t.powa?t.powa.play():M.call(this)}},{key:"pause",value:function(){var t=k.get(this);t.powa&&t.powa.pause()}},{key:"togglePlay",value:function(){var t=k.get(this);t.powa?t.powa.togglePlay():M.call(this)}},{key:"seekTime",value:function(t){var e=k.get(this);return e.powa?e.powa.seekTime(t):null}},{key:"seekPosition",value:function(t){var e=k.get(this);return e.powa?e.powa.seekPosition(t):null}},{key:"seekLive",value:function(){var t=k.get(this);return t.powa?t.powa.seekLive():null}},{key:"jump",value:function(t){var e=k.get(this);return e.powa?e.powa.jump(t):null}},{key:"mute",value:function(t){var e=k.get(this);e.powa&&e.powa.mute(t)}},{key:"volume",value:function(t){var e=k.get(this);e.powa&&e.powa.volume(t)}},{key:"prev",value:function(){var t=k.get(this),e=t.playlist||[],n=e.findIndex(function(e){return e.uuid===t.videoData._id});if(n>0){var i=n-1;return this.loadVideo(e[i].uuid,t.powa.play),!0}return!1}},{key:"next",value:function(){var t=k.get(this),e=t.playlist||[],n=e.findIndex(function(e){return e.uuid===t.videoData._id});if(n>=0){var i=n+1;if(i<e.length)return this.loadVideo(e[i].uuid,t.powa.play),!0;this.trigger(c.e.PLAYLIST_COMPLETE)}return!1}},{key:"showPromo",value:function(){var t=k.get(this);t.powa&&t.powa.showPromo()}},{key:"hidePromo",value:function(){var t=k.get(this);t.powa&&t.powa.hidePromo()}},{key:"showControls",value:function(){var t=k.get(this);t.powa&&t.powa.showControls()}},{key:"hideControls",value:function(){var t=k.get(this);t.powa&&t.powa.hideControls()}},{key:"showSubtitles",value:function(t){var e=k.get(this);e.powa&&e.powa.showSubtitles(t)}},{key:"hideSubtitles",value:function(){var t=k.get(this);t.powa&&t.powa.hideSubtitles()}},{key:"toggleSubtitles",value:function(){var t=k.get(this);t.powa&&t.powa.toggleSubtitles()}},{key:"isFullscreen",value:function(){var t=this.get$container();return t?t.isFullscreen():null}},{key:"fullscreen",value:function(t){var e=this.get$container();e&&e.fullscreen(t)}},{key:"getStatus",value:function(){var t=k.get(this);return t.powa?t.powa.getStatus():{}}},{key:"statusUpdater",value:function(t){var e=k.get(this);e.powa?e.powa.statusUpdater(t):this.updaters.push(t)}},{key:"on",value:function(t,e,n){var i=k.get(this);!i.$container||t!==c.n.VIEWABLE&&t!==c.n.NOT_VIEWABLE?S.get(this).on(t,e):i.$container.on(t,e,n)}},{key:"off",value:function(t,e){var n=k.get(this);!n.$container||t!==c.n.VIEWABLE&&t!==c.n.NOT_VIEWABLE?S.get(this).off(t,e):n.$container.off(t,e)}},{key:"once",value:function(t,e,n){var i=k.get(this);!i.$container||t!==c.n.VIEWABLE&&t!==c.n.NOT_VIEWABLE?S.get(this).once(t,e,n):i.$container.once(t,e,n)}},{key:"onceIf",value:function(t,e,n,i){var o=k.get(this);!o.$container||t!==c.n.VIEWABLE&&t!==c.n.NOT_VIEWABLE?S.get(this).onceIf(t,e,n,i):o.$container.onceIf(t,n,i)}},{key:"until",value:function(t,e,n,i){var o=k.get(this);!o.$container||t!==c.n.VIEWABLE&&t!==c.n.NOT_VIEWABLE?S.get(this).until(t,e,n,i):o.$container.until(t,n,i)}},{key:"trigger",value:function(t,e){S.get(this).trigger(t,e)}},{key:"destroy",value:function(){var t=k.get(this);t.powa&&(t.powa.destroy(),delete t.powa)}}]),t}()}]));